{"version":3,"file":"ngx-hm-carousel.js.map","sources":["ng://ngx-hm-carousel/lib/ngx-hm-carousel-dynamic.directive.ts","ng://ngx-hm-carousel/lib/ngx-hm-carousel-item.directive.ts","ng://ngx-hm-carousel/lib/rxjs.observable.resize.ts","ng://ngx-hm-carousel/lib/ngx-hm-carousel.component.ts","ng://ngx-hm-carousel/lib/ngx-hm-carousel.module.ts"],"sourcesContent":["import { Directive, Input, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ngxHmCarouselDynamic]'\r\n})\r\nexport class NgxHmCarouselDynamicDirective implements OnInit {\r\n\r\n  @Input('ngxHmCarouselDynamic') index: number;\r\n  @Input('ngxHmCarouselDynamicLength') length: number;\r\n  @Input('ngxHmCarouselDynamicIndex')\r\n\r\n  set currentI(value: number) {\r\n    if (!this.compelete) {\r\n\r\n      const nextI = value + 1;\r\n      const prevI = value - 1;\r\n\r\n      if (\r\n        this.index === 0 ||\r\n        this.index === this.length - 1 ||\r\n        this.index === nextI ||\r\n        this.index === prevI ||\r\n        this.index === value) {\r\n        this._view.createEmbeddedView(this._template);\r\n        this.compelete = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private compelete = false;\r\n  constructor(\r\n    private _view: ViewContainerRef,\r\n    private _template: TemplateRef<any>) {\r\n    this._view.clear();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { Directive, EventEmitter, Output } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ngx-hm-carousel-item]'\r\n})\r\nexport class NgxHmCarouselItemDirective {\r\n  @Output('ngx-hm-carousel-item') clickEvent = new EventEmitter<number>();\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import ResizeObserver from 'resize-observer-polyfill';\r\nimport { Observable, Subscriber } from 'rxjs';\r\nimport { debounceTime, tap, finalize } from 'rxjs/operators';\r\n\r\n/**\r\n * An observable creator for element resize.\r\n * @param elm the watch element.\r\n * @param cb when resize complete, call back function.\r\n * @param time resize emit time, default is 200\r\n */\r\nexport function resizeObservable(elm: HTMLElement, cb: () => void, time = 200): Observable<any> {\r\n  let elmObserve$: ResizeObserver;\r\n  return Observable.create((observer: Subscriber<any>) => {\r\n    elmObserve$ = new ResizeObserver((entries, obs) => {\r\n      observer.next(elmObserve$);\r\n    });\r\n    elmObserve$.observe(elm);\r\n  }).pipe(\r\n    debounceTime(time),\r\n    tap(() => {\r\n      cb();\r\n    }),\r\n    finalize(() => {\r\n      elmObserve$.unobserve(elm);\r\n      elmObserve$.disconnect();\r\n    })\r\n  );\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  PLATFORM_ID,\r\n  QueryList,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable, fromEvent, interval, merge, Subject, Subscription } from 'rxjs';\r\nimport { bufferCount, debounceTime, switchMap, takeUntil, tap } from 'rxjs/operators';\r\n\r\nimport { NgxHmCarouselItemDirective } from './ngx-hm-carousel-item.directive';\r\nimport { resizeObservable } from './rxjs.observable.resize';\r\n\r\n// if the pane is paned .25, switch to the next pane.\r\nconst PANBOUNDARY = 0.15;\r\n\r\n@Component({\r\n  selector: 'ngx-hm-carousel',\r\n  template: `<div #parentChild class=\"carousel\">\r\n  <ng-content select=\"[ngx-hm-carousel-container]\"></ng-content>\r\n  <!-- left -->\r\n  <div #prev *ngIf=\"contentPrev\"\r\n    class=\"direction left\">\r\n    <ng-container *ngTemplateOutlet=\"contentPrev\"></ng-container>\r\n  </div>\r\n  <!--  right -->\r\n  <div #next *ngIf=\"contentNext\"\r\n    class=\"direction right\">\r\n    <ng-container *ngTemplateOutlet=\"contentNext\"></ng-container>\r\n  </div>\r\n  <!-- indicators -->\r\n  <ul class=\"indicators\" *ngIf=\"dotElm\">\r\n    <li\r\n      *ngFor=\"let dot of dots; let i = index;\"\r\n      (click)=\"setIndex(i)\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"dotElm, context: {\r\n          $implicit: {\r\n            index : i,\r\n            currentIndex : currentIndex\r\n          }\r\n        }\">\r\n      </ng-container>\r\n    </li>\r\n  </ul>\r\n  <!-- progress -->\r\n  <div *ngIf=\"progressElm && autoplay\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"progressElm, context: {\r\n        $implicit: {\r\n          progress:progressWidth\r\n        }\r\n      }\">\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n`,\r\n  styles: [`:host{display:block;height:100%}.ngx-hm-carousel-display-npwrap{display:flex!important;flex-wrap:nowrap!important;flex-direction:row!important;overflow:hidden!important}.carousel{overflow:hidden;position:relative;width:100%;height:100%}.carousel ul.indicators{list-style:none;bottom:1rem;left:0;margin:0;padding:0;position:absolute;text-align:center;width:100%}.carousel ul.indicators li{cursor:pointer;display:inline-block;position:relative;padding:.5rem}.carousel .direction{position:absolute;height:100%;display:flex;align-items:center;justify-content:center;top:0}.carousel .direction.left{left:0}.carousel .direction.right{position:absolute;right:0}.transition{transition:all .4s ease-in-out}.grab{cursor:-webkit-grab;cursor:grab}.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.pointer{cursor:pointer}`],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NgxHmCarouselComponent implements AfterViewInit, AfterContentInit, OnDestroy {\r\n  @ViewChild('parentChild') parentChild;\r\n  @ViewChild('prev') private btnPrev: ElementRef;\r\n  @ViewChild('next') private btnNext: ElementRef;\r\n  @ContentChildren(NgxHmCarouselItemDirective) items: QueryList<NgxHmCarouselItemDirective>;\r\n  @ContentChild('carouselPrev') contentPrev: TemplateRef<any>;\r\n  @ContentChild('carouselNext') contentNext: TemplateRef<any>;\r\n  @ContentChild('carouselDot') dotElm: TemplateRef<any>;\r\n  @ContentChild('carouselProgress') progressElm: TemplateRef<any>;\r\n\r\n  @Input('aniTime') aniTime = 400;\r\n  @Input('align') align: 'left' | 'center' | 'right' = 'center';\r\n  @Input('infinite') infinite = false;\r\n  @Input('mourse-enable') mourseEnable = false;\r\n  @Input('autoplay-speed') speed = 5000;\r\n  @Input('between-delay') delay = 8000;\r\n  @Input('autoplay-direction') direction: 'left' | 'right' = 'right';\r\n  @Input('show-num')\r\n  set showNum(value: number | 'auto') {\r\n    if (value === 'auto') {\r\n      this.isAutoNum = true;\r\n    } else {\r\n      this._showNum = value;\r\n    }\r\n  }\r\n  get showNum() {\r\n    return this._showNum;\r\n  }\r\n  @Input('scroll-num') scrollNum = 1;\r\n  @Input('drag-many') isDragMany = false;\r\n  @Input('current-index')\r\n  set currentIndex(value) {\r\n    // if now index if not equale to save index, do someting\r\n    if (this.currentIndex !== value) {\r\n      this._currentIndex = value;\r\n\r\n      if (this.itemsElm) {\r\n        if (this.autoplay && !this.isFromAuto) {\r\n          this.stopEvent.next();\r\n          this.restart.next(null);\r\n        }\r\n        this.drawView(this.currentIndex);\r\n      }\r\n    }\r\n    this.isFromAuto = false;\r\n  }\r\n  get currentIndex() {\r\n    return this._currentIndex;\r\n  }\r\n\r\n  @Input('autoplay')\r\n  set autoplay(value) {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      if (this.itemsElm) {\r\n        this.progressWidth = 0;\r\n        if (value) {\r\n          this.doNextSub$ = this.doNext.subscribe();\r\n        } else {\r\n          if (this.doNextSub$) { this.doNextSub$.unsubscribe(); }\r\n        }\r\n      }\r\n    }\r\n    this._autoplay = value;\r\n  }\r\n  get autoplay() {\r\n    return this._autoplay;\r\n  }\r\n\r\n  @Output('index-change') indexChanged = new EventEmitter();\r\n  set progressWidth(value) {\r\n    if (this.progressElm !== undefined && this.autoplay) {\r\n      this._porgressWidth = value;\r\n    }\r\n  }\r\n  get progressWidth() {\r\n    return this._porgressWidth;\r\n  }\r\n\r\n  private isFromAuto = true;\r\n  private _currentIndex = 0;\r\n  private _showNum = 1;\r\n  private isAutoNum = false;\r\n  private _autoplay = false;\r\n  private _porgressWidth = 0;\r\n\r\n  private rootElm: HTMLElement;\r\n  private alignDistance = 0;\r\n  private containerElm: HTMLElement;\r\n  private itemsElm: Array<HTMLElement>;\r\n  private lastIndex = 0;\r\n  private hammer: HammerManager;\r\n  private elmWidth = 0;\r\n  private container_left = 0;\r\n\r\n  private mouseOnContainer = false;\r\n  private restart = new BehaviorSubject<any>(null);\r\n  private stopEvent = new Subject<any>();\r\n\r\n  private doNext: Observable<any>;\r\n  private doNextSub$: Subscription;\r\n  private elmSub$: Subscription;\r\n\r\n  private firstElm_clone;\r\n  private LatestElm_clone;\r\n  private prePanMove: boolean;\r\n  public dots: Array<number>;\r\n  private nextListener: () => void;\r\n  private prevListener: () => void;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private platformId: Object,\r\n    private _renderer: Renderer2) { }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.initVariable();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.setViewWidth(true);\r\n    this.reSetVariable();\r\n    this.hammer = this.bindHammer();\r\n    this.drawView(this.currentIndex);\r\n    this.bindClick();\r\n\r\n    if (this.autoplay || this.infinite) {\r\n      this.addInfiniteElm();\r\n    }\r\n\r\n    this.elmSub$ = resizeObservable(this.rootElm, () => this.containerResize()).subscribe();\r\n  }\r\n\r\n  private addInfiniteElm() {\r\n    this.firstElm_clone = this.itemsElm[this.lastIndex].cloneNode(true) as HTMLElement;\r\n    this.addStyle(this.firstElm_clone, {\r\n      position: 'absolute',\r\n      transform: 'translateX(-100%)'\r\n    });\r\n\r\n\r\n    this.LatestElm_clone = this.itemsElm[0].cloneNode(true) as HTMLElement;\r\n    this.addStyle(this.LatestElm_clone, {\r\n      position: 'absolute',\r\n      right: 0,\r\n      top: 0,\r\n      transform: 'translateX(100%)'\r\n    });\r\n\r\n    this._renderer.insertBefore(this.containerElm, this.firstElm_clone, this.itemsElm[0]);\r\n    this._renderer.appendChild(this.containerElm, this.LatestElm_clone);\r\n  }\r\n\r\n  private containerResize() {\r\n    this.reSetVariable();\r\n    this.setViewWidth();\r\n\r\n    // å çºä¸è½æ»äºï¼æä»¥è¦åå°ç¬¬ä¸åï¼ä»¥ç¢ºä¿å¨é¨é½æé¡¯ç¤º\r\n    if (this.showNum >= this.itemsElm.length) {\r\n      this.currentIndex = 0;\r\n    }\r\n    this.drawView(this.currentIndex, false);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.btnNext && this.btnPrev) {\r\n      this.nextListener();\r\n      this.prevListener();\r\n    }\r\n    this.hammer.destroy();\r\n    if (this.autoplay) {\r\n      this.doNextSub$.unsubscribe();\r\n    }\r\n\r\n    this.elmSub$.unsubscribe();\r\n  }\r\n\r\n  setIndex(i) {\r\n    this.currentIndex = i;\r\n  }\r\n\r\n  private initVariable() {\r\n    this.rootElm = this.parentChild.nativeElement;\r\n    this.containerElm = this.rootElm.children[0] as HTMLElement;\r\n    this.itemsElm = Array.from(this.containerElm.children) as HTMLElement[];\r\n    this.lastIndex = this.itemsElm.length - 1;\r\n\r\n    if (this.dotElm) {\r\n      this.dots = new Array(this.itemsElm.length);\r\n    }\r\n\r\n    let startEvent = this.restart.asObservable();\r\n    let stopEvent = this.stopEvent.asObservable();\r\n    if (this.mourseEnable) {\r\n      startEvent = merge(\r\n        startEvent,\r\n        fromEvent(this.containerElm, 'mouseleave').pipe(\r\n          tap(() => this.mouseOnContainer = false)\r\n        )\r\n      );\r\n      stopEvent = merge(\r\n        stopEvent,\r\n        fromEvent(this.containerElm, 'mouseover').pipe(\r\n          tap(() => this.mouseOnContainer = true)\r\n        )\r\n      );\r\n    }\r\n\r\n    this.doNext = startEvent.pipe(\r\n      debounceTime(this.delay),\r\n      switchMap(() =>\r\n        this.runProgress(20).pipe(\r\n          tap(() => {\r\n            this.isFromAuto = true;\r\n            // console.log('next');\r\n            if (this.direction === 'left') {\r\n              this.currentIndex -= this.scrollNum;\r\n            } else {\r\n              this.currentIndex += this.scrollNum;\r\n            }\r\n          }),\r\n          takeUntil(stopEvent.pipe(tap(() => this.progressWidth = 0))\r\n          )\r\n        )\r\n      ));\r\n\r\n    if (this.autoplay) {\r\n      this.doNextSub$ = this.doNext.subscribe();\r\n    }\r\n  }\r\n\r\n  private reSetVariable() {\r\n    this.container_left = this.rootElm.getBoundingClientRect().left;\r\n    if (this.showNum && this.showNum !== 1) {\r\n      switch (this.align) {\r\n        case 'center':\r\n          this.alignDistance = (this.rootElm.clientWidth - this.elmWidth) / 2;\r\n          break;\r\n        case 'left':\r\n          this.alignDistance = 0;\r\n          break;\r\n        case 'right':\r\n          this.alignDistance = this.rootElm.clientWidth - this.elmWidth;\r\n          break;\r\n      }\r\n    }\r\n    // console.log(this.alignDistance);\r\n  }\r\n\r\n  private setViewWidth(isInit?: boolean) {\r\n    if (this.isAutoNum) {\r\n      this._showNum = this.getAutoNum();\r\n    }\r\n    this._renderer.addClass(this.containerElm, 'grab');\r\n    // when init check view has scroll bar\r\n    const totalWidth = 0;\r\n    if (isInit) {\r\n      // remain one elm height\r\n      this._renderer.addClass(this.containerElm, 'ngx-hm-carousel-display-npwrap');\r\n    }\r\n    this.elmWidth = (totalWidth + this.rootElm.clientWidth) / this._showNum;\r\n\r\n    this._renderer.removeClass(this.containerElm, 'ngx-hm-carousel-display-npwrap');\r\n    this._renderer.setStyle(this.containerElm, 'width', `${this.elmWidth * this.itemsElm.length}px`);\r\n    this._renderer.setStyle(this.containerElm, 'position', 'relative');\r\n    this.itemsElm.forEach((elm: HTMLElement, index) => {\r\n      this._renderer.setStyle(elm, 'width', `${this.elmWidth}px`);\r\n    });\r\n\r\n    if (this.firstElm_clone) {\r\n      this._renderer.setStyle(this.firstElm_clone, 'width', `${this.elmWidth}px`);\r\n      this._renderer.setStyle(this.LatestElm_clone, 'width', `${this.elmWidth}px`);\r\n    }\r\n  }\r\n\r\n  private bindHammer() {\r\n    const hm = new Hammer(this.containerElm);\r\n    hm.get('pan').set({ direction: Hammer.DIRECTION_HORIZONTAL });\r\n\r\n    hm.on('panleft panright panend tap', (e: HammerInput) => {\r\n      this._renderer.removeClass(this.containerElm, 'transition');\r\n      this._renderer.addClass(this.containerElm, 'grabbing');\r\n      if (this.autoplay) {\r\n        this.stopEvent.next();\r\n      }\r\n      // console.log(e.type);\r\n      switch (e.type) {\r\n        case 'tap':\r\n          this.callClick(e.center.x);\r\n          this.callRestart();\r\n          this._renderer.removeClass(this.containerElm, 'grabbing');\r\n          break;\r\n        case 'panleft':\r\n        case 'panright':\r\n\r\n          // é¡¯ç¤ºç¸½æ¸éå°æ¼ç¸½æ¸éï¼åæ­¢æ»å\r\n          if (this.showNum >= this.itemsElm.length) {\r\n            this.hammer.stop(true);\r\n            return;\r\n          }\r\n          // console.log(e.deltaY);\r\n          this.prePanMove = false;\r\n          if (Math.abs(e.deltaY) > 50) { return; }\r\n          // Slow down at the first and last pane.\r\n          if (!(this.autoplay || this.infinite) && this.outOfBound(e.type)) {\r\n            e.deltaX *= 0.2;\r\n          }\r\n\r\n          this._renderer.setStyle(this.containerElm, 'left', `${-this.currentIndex * this.elmWidth + this.alignDistance + e.deltaX}px`);\r\n\r\n          if (!this.isDragMany) {\r\n            if (Math.abs(e.deltaX) > this.elmWidth * 0.5) {\r\n              if (e.deltaX > 0) {\r\n                this.currentIndex -= this.scrollNum;\r\n              } else {\r\n                this.currentIndex += this.scrollNum;\r\n              }\r\n              this._renderer.removeClass(this.containerElm, 'grabbing');\r\n              this.callRestart();\r\n              this.hammer.stop(true);\r\n              // remember prv action, to avoid hammer stop, then click\r\n              this.prePanMove = true;\r\n            }\r\n          }\r\n          break;\r\n        case 'panend':\r\n          this.callRestart();\r\n\r\n          this._renderer.removeClass(this.containerElm, 'grabbing');\r\n          if (Math.abs(e.deltaX) > this.elmWidth * PANBOUNDARY) {\r\n            const moveNum = this.isDragMany ?\r\n              Math.ceil(Math.abs(e.deltaX) / this.elmWidth) : this.scrollNum;\r\n\r\n            let prevIndex = this.currentIndex - moveNum;\r\n            let nextIndex = this.currentIndex + moveNum;\r\n\r\n            // å¦æä¸æ¯ç¡éå¾ªç°ï¼ä¸è½å¤§æ¼æå°æ¼\r\n\r\n            if (e.deltaX > 0) {\r\n              if (!(this.autoplay || this.infinite) && prevIndex < 0) {\r\n                prevIndex = 0;\r\n                this.drawView(0);\r\n              }\r\n\r\n              this.currentIndex = prevIndex;\r\n            } else {\r\n              if (!(this.autoplay || this.infinite) && nextIndex > this.lastIndex - this._showNum + 1) {\r\n                nextIndex = this.lastIndex - this._showNum + 1;\r\n                this.drawView(nextIndex);\r\n              }\r\n              this.currentIndex = nextIndex;\r\n            }\r\n            break;\r\n          } else {\r\n            if (!this.isDragMany && this.prePanMove) {\r\n              this.callClick(e.center.x);\r\n            }\r\n          }\r\n          // console.log(this.currentIndex);\r\n          this.drawView(this.currentIndex);\r\n          this.prePanMove = false;\r\n          break;\r\n      }\r\n    });\r\n\r\n    return hm;\r\n  }\r\n\r\n  private bindClick() {\r\n    if (this.btnNext && this.btnPrev) {\r\n      this.nextListener = this._renderer.listen(this.btnNext.nativeElement, 'click', () => {\r\n        this.currentIndex++;\r\n      });\r\n      this.prevListener = this._renderer.listen(this.btnPrev.nativeElement, 'click', () => {\r\n        this.currentIndex--;\r\n      });\r\n    }\r\n  }\r\n\r\n  private callRestart() {\r\n    if (this.autoplay && !this.mouseOnContainer) {\r\n      this.restart.next(null);\r\n    }\r\n  }\r\n\r\n  private callClick(positionX) {\r\n    // click position subtract the containerlef and alignDistance is the move distance\r\n    const toIndex = this.currentIndex + Math.floor((positionX - this.container_left - this.alignDistance) / this.elmWidth);\r\n\r\n    const elm = this.items.toArray()[toIndex];\r\n    if (elm) {\r\n      elm.clickEvent.emit(toIndex);\r\n    }\r\n  }\r\n\r\n  private drawView(index: number, isEmit = true) {\r\n    const lastIndex = this.lastIndex;\r\n\r\n    if (this.autoplay || this.infinite) {\r\n      if (index < 0) {\r\n        this._currentIndex = lastIndex;\r\n      } else if (index > lastIndex) {\r\n        this._currentIndex = 0;\r\n      }\r\n    } else {\r\n      this._currentIndex = Math.max(0, Math.min(index, this.lastIndex));\r\n    }\r\n\r\n    // åªæç¶å¤§æ¼1æè¦ç§»å\r\n    if (this.itemsElm.length > 1) {\r\n      const leftDistance = (index * this.elmWidth) - this.alignDistance;\r\n\r\n      this._renderer.setStyle(this.containerElm, 'left', `${-leftDistance}px`);\r\n      if (isEmit) {\r\n        this._renderer.addClass(this.containerElm, 'transition');\r\n        this.indexChanged.emit(this.currentIndex);\r\n      } else {\r\n        this._renderer.removeClass(this.containerElm, 'transition');\r\n      }\r\n\r\n      // å¦ææ¯å¾ªç°çï¼ç¶åç«çµæå·å·çè·³å°ç¶åçindexãleftå»\r\n      this.InfiniteHandler(index, lastIndex);\r\n    } else {\r\n      this._renderer.setStyle(this.containerElm, 'left', `${this.alignDistance}px`);\r\n    }\r\n\r\n  }\r\n\r\n  private InfiniteHandler(index: number, lastIndex: number) {\r\n    if ((this.autoplay || this.infinite)) {\r\n      setTimeout(() => {\r\n        this._renderer.removeClass(this.containerElm, 'transition');\r\n        // å¦ææ¯å¾ªç°çï¼ç¶åç«çµæå·å·çè·³å°ç¶åçindexãleftå»\r\n        let distance = 0;\r\n        if (index <= -1) {\r\n          distance = (lastIndex * this.elmWidth) - this.alignDistance;\r\n          this._renderer.setStyle(this.containerElm, 'left', `${-distance}px`);\r\n        } else if (index > lastIndex) {\r\n          this._renderer.setStyle(this.containerElm, 'left', `0px`);\r\n        }\r\n      }, this.aniTime);\r\n    }\r\n  }\r\n\r\n  private outOfBound(type) {\r\n    switch (type) {\r\n      case 'panleft':\r\n        return this.currentIndex >= this.lastIndex - this._showNum + 1;\r\n      case 'panright':\r\n        return this.currentIndex <= 0;\r\n    }\r\n  }\r\n\r\n  private runProgress(betweenTime): Observable<any> {\r\n    const howTimes = this.speed / betweenTime;\r\n    const everyIncrease = 100 / this.speed * betweenTime;\r\n    // console.log('progress');\r\n    return interval(betweenTime).pipe(\r\n      tap(t => {\r\n        this.progressWidth = (t % howTimes) * everyIncrease;\r\n      }),\r\n      bufferCount(Math.round(this.speed / betweenTime), 0)\r\n    );\r\n  }\r\n\r\n  private getAutoNum() {\r\n    const initNum = 3;\r\n    // 610\r\n    const width = this.rootElm.clientWidth;\r\n    if (width > 300) {\r\n      return Math.floor(initNum + (width / 200));\r\n    }\r\n    return initNum;\r\n  }\r\n\r\n  private addStyle(elm: HTMLElement, style: { [key: string]: string | number }) {\r\n    if (style) {\r\n      Object.keys(style).forEach((key) => {\r\n        const value = style[key];\r\n        this._renderer.setStyle(elm, key, value);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { NgxHmCarouselDynamicDirective } from './ngx-hm-carousel-dynamic.directive';\r\nimport { NgxHmCarouselItemDirective } from './ngx-hm-carousel-item.directive';\r\nimport { NgxHmCarouselComponent } from './ngx-hm-carousel.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n  ],\r\n  declarations: [\r\n    NgxHmCarouselComponent,\r\n    NgxHmCarouselItemDirective,\r\n    NgxHmCarouselDynamicDirective\r\n  ],\r\n  exports: [\r\n    NgxHmCarouselComponent,\r\n    NgxHmCarouselItemDirective,\r\n    NgxHmCarouselDynamicDirective\r\n  ]\r\n})\r\nexport class NgxHmCarouselModule { }\r\n"],"names":[],"mappings":"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"}
