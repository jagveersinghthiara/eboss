import { Directive, Input, TemplateRef, ViewContainerRef, EventEmitter, Output, Component, ContentChild, ContentChildren, Inject, PLATFORM_ID, Renderer2, ViewChild, ViewEncapsulation, NgModule } from '@angular/core';
import ResizeObserver from 'resize-observer-polyfill';
import { Observable, BehaviorSubject, fromEvent, interval, merge, Subject } from 'rxjs';
import { debounceTime, tap, finalize, bufferCount, switchMap, takeUntil } from 'rxjs/operators';
import { isPlatformBrowser, CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxHmCarouselDynamicDirective = /** @class */ (function () {
    function NgxHmCarouselDynamicDirective(_view, _template) {
        this._view = _view;
        this._template = _template;
        this.compelete = false;
        this._view.clear();
    }
    Object.defineProperty(NgxHmCarouselDynamicDirective.prototype, "currentI", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!this.compelete) {
                var /** @type {?} */ nextI = value + 1;
                var /** @type {?} */ prevI = value - 1;
                if (this.index === 0 ||
                    this.index === this.length - 1 ||
                    this.index === nextI ||
                    this.index === prevI ||
                    this.index === value) {
                    this._view.createEmbeddedView(this._template);
                    this.compelete = true;
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NgxHmCarouselDynamicDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    NgxHmCarouselDynamicDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[ngxHmCarouselDynamic]'
                },] },
    ];
    /** @nocollapse */
    NgxHmCarouselDynamicDirective.ctorParameters = function () { return [
        { type: ViewContainerRef, },
        { type: TemplateRef, },
    ]; };
    NgxHmCarouselDynamicDirective.propDecorators = {
        "index": [{ type: Input, args: ['ngxHmCarouselDynamic',] },],
        "length": [{ type: Input, args: ['ngxHmCarouselDynamicLength',] },],
        "currentI": [{ type: Input, args: ['ngxHmCarouselDynamicIndex',] },],
    };
    return NgxHmCarouselDynamicDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxHmCarouselItemDirective = /** @class */ (function () {
    function NgxHmCarouselItemDirective() {
        this.clickEvent = new EventEmitter();
    }
    NgxHmCarouselItemDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[ngx-hm-carousel-item]'
                },] },
    ];
    /** @nocollapse */
    NgxHmCarouselItemDirective.ctorParameters = function () { return []; };
    NgxHmCarouselItemDirective.propDecorators = {
        "clickEvent": [{ type: Output, args: ['ngx-hm-carousel-item',] },],
    };
    return NgxHmCarouselItemDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * An observable creator for element resize.
 * @param {?} elm the watch element.
 * @param {?} cb when resize complete, call back function.
 * @param {?=} time resize emit time, default is 200
 * @return {?}
 */
function resizeObservable(elm, cb, time) {
    if (time === void 0) { time = 200; }
    var /** @type {?} */ elmObserve$;
    return Observable.create(function (observer) {
        elmObserve$ = new ResizeObserver(function (entries, obs) {
            observer.next(elmObserve$);
        });
        elmObserve$.observe(elm);
    }).pipe(debounceTime(time), tap(function () {
        cb();
    }), finalize(function () {
        elmObserve$.unobserve(elm);
        elmObserve$.disconnect();
    }));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// if the pane is paned .25, switch to the next pane.
var /** @type {?} */ PANBOUNDARY = 0.15;
var NgxHmCarouselComponent = /** @class */ (function () {
    function NgxHmCarouselComponent(platformId, _renderer) {
        this.platformId = platformId;
        this._renderer = _renderer;
        this.aniTime = 400;
        this.align = 'center';
        this.infinite = false;
        this.mourseEnable = false;
        this.speed = 5000;
        this.delay = 8000;
        this.direction = 'right';
        this.scrollNum = 1;
        this.isDragMany = false;
        this.indexChanged = new EventEmitter();
        this.isFromAuto = true;
        this._currentIndex = 0;
        this._showNum = 1;
        this.isAutoNum = false;
        this._autoplay = false;
        this._porgressWidth = 0;
        this.alignDistance = 0;
        this.lastIndex = 0;
        this.elmWidth = 0;
        this.container_left = 0;
        this.mouseOnContainer = false;
        this.restart = new BehaviorSubject(null);
        this.stopEvent = new Subject();
    }
    Object.defineProperty(NgxHmCarouselComponent.prototype, "showNum", {
        get: /**
         * @return {?}
         */
        function () {
            return this._showNum;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value === 'auto') {
                this.isAutoNum = true;
            }
            else {
                this._showNum = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgxHmCarouselComponent.prototype, "currentIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this._currentIndex;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            // if now index if not equale to save index, do someting
            if (this.currentIndex !== value) {
                this._currentIndex = value;
                if (this.itemsElm) {
                    if (this.autoplay && !this.isFromAuto) {
                        this.stopEvent.next();
                        this.restart.next(null);
                    }
                    this.drawView(this.currentIndex);
                }
            }
            this.isFromAuto = false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgxHmCarouselComponent.prototype, "autoplay", {
        get: /**
         * @return {?}
         */
        function () {
            return this._autoplay;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (isPlatformBrowser(this.platformId)) {
                if (this.itemsElm) {
                    this.progressWidth = 0;
                    if (value) {
                        this.doNextSub$ = this.doNext.subscribe();
                    }
                    else {
                        if (this.doNextSub$) {
                            this.doNextSub$.unsubscribe();
                        }
                    }
                }
            }
            this._autoplay = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgxHmCarouselComponent.prototype, "progressWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this._porgressWidth;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this.progressElm !== undefined && this.autoplay) {
                this._porgressWidth = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.initVariable();
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.setViewWidth(true);
        this.reSetVariable();
        this.hammer = this.bindHammer();
        this.drawView(this.currentIndex);
        this.bindClick();
        if (this.autoplay || this.infinite) {
            this.addInfiniteElm();
        }
        this.elmSub$ = resizeObservable(this.rootElm, function () { return _this.containerResize(); }).subscribe();
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.addInfiniteElm = /**
     * @return {?}
     */
    function () {
        this.firstElm_clone = /** @type {?} */ (this.itemsElm[this.lastIndex].cloneNode(true));
        this.addStyle(this.firstElm_clone, {
            position: 'absolute',
            transform: 'translateX(-100%)'
        });
        this.LatestElm_clone = /** @type {?} */ (this.itemsElm[0].cloneNode(true));
        this.addStyle(this.LatestElm_clone, {
            position: 'absolute',
            right: 0,
            top: 0,
            transform: 'translateX(100%)'
        });
        this._renderer.insertBefore(this.containerElm, this.firstElm_clone, this.itemsElm[0]);
        this._renderer.appendChild(this.containerElm, this.LatestElm_clone);
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.containerResize = /**
     * @return {?}
     */
    function () {
        this.reSetVariable();
        this.setViewWidth();
        // 因為不能滑了，所以要回到第一個，以確保全部都有顯示
        if (this.showNum >= this.itemsElm.length) {
            this.currentIndex = 0;
        }
        this.drawView(this.currentIndex, false);
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.btnNext && this.btnPrev) {
            this.nextListener();
            this.prevListener();
        }
        this.hammer.destroy();
        if (this.autoplay) {
            this.doNextSub$.unsubscribe();
        }
        this.elmSub$.unsubscribe();
    };
    /**
     * @param {?} i
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.setIndex = /**
     * @param {?} i
     * @return {?}
     */
    function (i) {
        this.currentIndex = i;
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.initVariable = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.rootElm = this.parentChild.nativeElement;
        this.containerElm = /** @type {?} */ (this.rootElm.children[0]);
        this.itemsElm = /** @type {?} */ (Array.from(this.containerElm.children));
        this.lastIndex = this.itemsElm.length - 1;
        if (this.dotElm) {
            this.dots = new Array(this.itemsElm.length);
        }
        var /** @type {?} */ startEvent = this.restart.asObservable();
        var /** @type {?} */ stopEvent = this.stopEvent.asObservable();
        if (this.mourseEnable) {
            startEvent = merge(startEvent, fromEvent(this.containerElm, 'mouseleave').pipe(tap(function () { return _this.mouseOnContainer = false; })));
            stopEvent = merge(stopEvent, fromEvent(this.containerElm, 'mouseover').pipe(tap(function () { return _this.mouseOnContainer = true; })));
        }
        this.doNext = startEvent.pipe(debounceTime(this.delay), switchMap(function () {
            return _this.runProgress(20).pipe(tap(function () {
                _this.isFromAuto = true;
                // console.log('next');
                if (_this.direction === 'left') {
                    _this.currentIndex -= _this.scrollNum;
                }
                else {
                    _this.currentIndex += _this.scrollNum;
                }
            }), takeUntil(stopEvent.pipe(tap(function () { return _this.progressWidth = 0; }))));
        }));
        if (this.autoplay) {
            this.doNextSub$ = this.doNext.subscribe();
        }
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.reSetVariable = /**
     * @return {?}
     */
    function () {
        this.container_left = this.rootElm.getBoundingClientRect().left;
        if (this.showNum && this.showNum !== 1) {
            switch (this.align) {
                case 'center':
                    this.alignDistance = (this.rootElm.clientWidth - this.elmWidth) / 2;
                    break;
                case 'left':
                    this.alignDistance = 0;
                    break;
                case 'right':
                    this.alignDistance = this.rootElm.clientWidth - this.elmWidth;
                    break;
            }
        }
        // console.log(this.alignDistance);
    };
    /**
     * @param {?=} isInit
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.setViewWidth = /**
     * @param {?=} isInit
     * @return {?}
     */
    function (isInit) {
        var _this = this;
        if (this.isAutoNum) {
            this._showNum = this.getAutoNum();
        }
        this._renderer.addClass(this.containerElm, 'grab');
        // when init check view has scroll bar
        var /** @type {?} */ totalWidth = 0;
        if (isInit) {
            // remain one elm height
            this._renderer.addClass(this.containerElm, 'ngx-hm-carousel-display-npwrap');
        }
        this.elmWidth = (totalWidth + this.rootElm.clientWidth) / this._showNum;
        this._renderer.removeClass(this.containerElm, 'ngx-hm-carousel-display-npwrap');
        this._renderer.setStyle(this.containerElm, 'width', this.elmWidth * this.itemsElm.length + "px");
        this._renderer.setStyle(this.containerElm, 'position', 'relative');
        this.itemsElm.forEach(function (elm, index) {
            _this._renderer.setStyle(elm, 'width', _this.elmWidth + "px");
        });
        if (this.firstElm_clone) {
            this._renderer.setStyle(this.firstElm_clone, 'width', this.elmWidth + "px");
            this._renderer.setStyle(this.LatestElm_clone, 'width', this.elmWidth + "px");
        }
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.bindHammer = /**
     * @return {?}
     */
    function () {
        var _this = this;
        var /** @type {?} */ hm = new Hammer(this.containerElm);
        hm.get('pan').set({ direction: Hammer.DIRECTION_HORIZONTAL });
        hm.on('panleft panright panend tap', function (e) {
            _this._renderer.removeClass(_this.containerElm, 'transition');
            _this._renderer.addClass(_this.containerElm, 'grabbing');
            if (_this.autoplay) {
                _this.stopEvent.next();
            }
            // console.log(e.type);
            switch (e.type) {
                case 'tap':
                    _this.callClick(e.center.x);
                    _this.callRestart();
                    _this._renderer.removeClass(_this.containerElm, 'grabbing');
                    break;
                case 'panleft':
                case 'panright':
                    // 顯示總數量小於總數量，停止滑動
                    if (_this.showNum >= _this.itemsElm.length) {
                        _this.hammer.stop(true);
                        return;
                    }
                    // console.log(e.deltaY);
                    // console.log(e.deltaY);
                    _this.prePanMove = false;
                    if (Math.abs(e.deltaY) > 50) {
                        return;
                    }
                    // Slow down at the first and last pane.
                    if (!(_this.autoplay || _this.infinite) && _this.outOfBound(e.type)) {
                        e.deltaX *= 0.2;
                    }
                    _this._renderer.setStyle(_this.containerElm, 'left', -_this.currentIndex * _this.elmWidth + _this.alignDistance + e.deltaX + "px");
                    if (!_this.isDragMany) {
                        if (Math.abs(e.deltaX) > _this.elmWidth * 0.5) {
                            if (e.deltaX > 0) {
                                _this.currentIndex -= _this.scrollNum;
                            }
                            else {
                                _this.currentIndex += _this.scrollNum;
                            }
                            _this._renderer.removeClass(_this.containerElm, 'grabbing');
                            _this.callRestart();
                            _this.hammer.stop(true);
                            // remember prv action, to avoid hammer stop, then click
                            // remember prv action, to avoid hammer stop, then click
                            _this.prePanMove = true;
                        }
                    }
                    break;
                case 'panend':
                    _this.callRestart();
                    _this._renderer.removeClass(_this.containerElm, 'grabbing');
                    if (Math.abs(e.deltaX) > _this.elmWidth * PANBOUNDARY) {
                        var /** @type {?} */ moveNum = _this.isDragMany ?
                            Math.ceil(Math.abs(e.deltaX) / _this.elmWidth) : _this.scrollNum;
                        var /** @type {?} */ prevIndex = _this.currentIndex - moveNum;
                        var /** @type {?} */ nextIndex = _this.currentIndex + moveNum;
                        // 如果不是無限循環，不能大於或小於
                        if (e.deltaX > 0) {
                            if (!(_this.autoplay || _this.infinite) && prevIndex < 0) {
                                prevIndex = 0;
                                _this.drawView(0);
                            }
                            _this.currentIndex = prevIndex;
                        }
                        else {
                            if (!(_this.autoplay || _this.infinite) && nextIndex > _this.lastIndex - _this._showNum + 1) {
                                nextIndex = _this.lastIndex - _this._showNum + 1;
                                _this.drawView(nextIndex);
                            }
                            _this.currentIndex = nextIndex;
                        }
                        break;
                    }
                    else {
                        if (!_this.isDragMany && _this.prePanMove) {
                            _this.callClick(e.center.x);
                        }
                    }
                    // console.log(this.currentIndex);
                    // console.log(this.currentIndex);
                    _this.drawView(_this.currentIndex);
                    _this.prePanMove = false;
                    break;
            }
        });
        return hm;
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.bindClick = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.btnNext && this.btnPrev) {
            this.nextListener = this._renderer.listen(this.btnNext.nativeElement, 'click', function () {
                _this.currentIndex++;
            });
            this.prevListener = this._renderer.listen(this.btnPrev.nativeElement, 'click', function () {
                _this.currentIndex--;
            });
        }
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.callRestart = /**
     * @return {?}
     */
    function () {
        if (this.autoplay && !this.mouseOnContainer) {
            this.restart.next(null);
        }
    };
    /**
     * @param {?} positionX
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.callClick = /**
     * @param {?} positionX
     * @return {?}
     */
    function (positionX) {
        // click position subtract the containerlef and alignDistance is the move distance
        var /** @type {?} */ toIndex = this.currentIndex + Math.floor((positionX - this.container_left - this.alignDistance) / this.elmWidth);
        var /** @type {?} */ elm = this.items.toArray()[toIndex];
        if (elm) {
            elm.clickEvent.emit(toIndex);
        }
    };
    /**
     * @param {?} index
     * @param {?=} isEmit
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.drawView = /**
     * @param {?} index
     * @param {?=} isEmit
     * @return {?}
     */
    function (index, isEmit) {
        if (isEmit === void 0) { isEmit = true; }
        var /** @type {?} */ lastIndex = this.lastIndex;
        if (this.autoplay || this.infinite) {
            if (index < 0) {
                this._currentIndex = lastIndex;
            }
            else if (index > lastIndex) {
                this._currentIndex = 0;
            }
        }
        else {
            this._currentIndex = Math.max(0, Math.min(index, this.lastIndex));
        }
        // 只有當大於1才要移動
        if (this.itemsElm.length > 1) {
            var /** @type {?} */ leftDistance = (index * this.elmWidth) - this.alignDistance;
            this._renderer.setStyle(this.containerElm, 'left', -leftDistance + "px");
            if (isEmit) {
                this._renderer.addClass(this.containerElm, 'transition');
                this.indexChanged.emit(this.currentIndex);
            }
            else {
                this._renderer.removeClass(this.containerElm, 'transition');
            }
            // 如果是循環的，當動畫結束偷偷的跳到當前的index、left去
            this.InfiniteHandler(index, lastIndex);
        }
        else {
            this._renderer.setStyle(this.containerElm, 'left', this.alignDistance + "px");
        }
    };
    /**
     * @param {?} index
     * @param {?} lastIndex
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.InfiniteHandler = /**
     * @param {?} index
     * @param {?} lastIndex
     * @return {?}
     */
    function (index, lastIndex) {
        var _this = this;
        if ((this.autoplay || this.infinite)) {
            setTimeout(function () {
                _this._renderer.removeClass(_this.containerElm, 'transition');
                // 如果是循環的，當動畫結束偷偷的跳到當前的index、left去
                var /** @type {?} */ distance = 0;
                if (index <= -1) {
                    distance = (lastIndex * _this.elmWidth) - _this.alignDistance;
                    _this._renderer.setStyle(_this.containerElm, 'left', -distance + "px");
                }
                else if (index > lastIndex) {
                    _this._renderer.setStyle(_this.containerElm, 'left', "0px");
                }
            }, this.aniTime);
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.outOfBound = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case 'panleft':
                return this.currentIndex >= this.lastIndex - this._showNum + 1;
            case 'panright':
                return this.currentIndex <= 0;
        }
    };
    /**
     * @param {?} betweenTime
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.runProgress = /**
     * @param {?} betweenTime
     * @return {?}
     */
    function (betweenTime) {
        var _this = this;
        var /** @type {?} */ howTimes = this.speed / betweenTime;
        var /** @type {?} */ everyIncrease = 100 / this.speed * betweenTime;
        // console.log('progress');
        return interval(betweenTime).pipe(tap(function (t) {
            _this.progressWidth = (t % howTimes) * everyIncrease;
        }), bufferCount(Math.round(this.speed / betweenTime), 0));
    };
    /**
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.getAutoNum = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ initNum = 3;
        // 610
        var /** @type {?} */ width = this.rootElm.clientWidth;
        if (width > 300) {
            return Math.floor(initNum + (width / 200));
        }
        return initNum;
    };
    /**
     * @param {?} elm
     * @param {?} style
     * @return {?}
     */
    NgxHmCarouselComponent.prototype.addStyle = /**
     * @param {?} elm
     * @param {?} style
     * @return {?}
     */
    function (elm, style) {
        var _this = this;
        if (style) {
            Object.keys(style).forEach(function (key) {
                var /** @type {?} */ value = style[key];
                _this._renderer.setStyle(elm, key, value);
            });
        }
    };
    NgxHmCarouselComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-hm-carousel',
                    template: "<div #parentChild class=\"carousel\">\n  <ng-content select=\"[ngx-hm-carousel-container]\"></ng-content>\n  <!-- left -->\n  <div #prev *ngIf=\"contentPrev\"\n    class=\"direction left\">\n    <ng-container *ngTemplateOutlet=\"contentPrev\"></ng-container>\n  </div>\n  <!--  right -->\n  <div #next *ngIf=\"contentNext\"\n    class=\"direction right\">\n    <ng-container *ngTemplateOutlet=\"contentNext\"></ng-container>\n  </div>\n  <!-- indicators -->\n  <ul class=\"indicators\" *ngIf=\"dotElm\">\n    <li\n      *ngFor=\"let dot of dots; let i = index;\"\n      (click)=\"setIndex(i)\">\n      <ng-container\n        *ngTemplateOutlet=\"dotElm, context: {\n          $implicit: {\n            index : i,\n            currentIndex : currentIndex\n          }\n        }\">\n      </ng-container>\n    </li>\n  </ul>\n  <!-- progress -->\n  <div *ngIf=\"progressElm && autoplay\">\n    <ng-container\n      *ngTemplateOutlet=\"progressElm, context: {\n        $implicit: {\n          progress:progressWidth\n        }\n      }\">\n    </ng-container>\n  </div>\n</div>\n",
                    styles: [":host{display:block;height:100%}.ngx-hm-carousel-display-npwrap{display:flex!important;flex-wrap:nowrap!important;flex-direction:row!important;overflow:hidden!important}.carousel{overflow:hidden;position:relative;width:100%;height:100%}.carousel ul.indicators{list-style:none;bottom:1rem;left:0;margin:0;padding:0;position:absolute;text-align:center;width:100%}.carousel ul.indicators li{cursor:pointer;display:inline-block;position:relative;padding:.5rem}.carousel .direction{position:absolute;height:100%;display:flex;align-items:center;justify-content:center;top:0}.carousel .direction.left{left:0}.carousel .direction.right{position:absolute;right:0}.transition{transition:all .4s ease-in-out}.grab{cursor:-webkit-grab;cursor:grab}.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.pointer{cursor:pointer}"],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    NgxHmCarouselComponent.ctorParameters = function () { return [
        { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] },] },
        { type: Renderer2, },
    ]; };
    NgxHmCarouselComponent.propDecorators = {
        "parentChild": [{ type: ViewChild, args: ['parentChild',] },],
        "btnPrev": [{ type: ViewChild, args: ['prev',] },],
        "btnNext": [{ type: ViewChild, args: ['next',] },],
        "items": [{ type: ContentChildren, args: [NgxHmCarouselItemDirective,] },],
        "contentPrev": [{ type: ContentChild, args: ['carouselPrev',] },],
        "contentNext": [{ type: ContentChild, args: ['carouselNext',] },],
        "dotElm": [{ type: ContentChild, args: ['carouselDot',] },],
        "progressElm": [{ type: ContentChild, args: ['carouselProgress',] },],
        "aniTime": [{ type: Input, args: ['aniTime',] },],
        "align": [{ type: Input, args: ['align',] },],
        "infinite": [{ type: Input, args: ['infinite',] },],
        "mourseEnable": [{ type: Input, args: ['mourse-enable',] },],
        "speed": [{ type: Input, args: ['autoplay-speed',] },],
        "delay": [{ type: Input, args: ['between-delay',] },],
        "direction": [{ type: Input, args: ['autoplay-direction',] },],
        "showNum": [{ type: Input, args: ['show-num',] },],
        "scrollNum": [{ type: Input, args: ['scroll-num',] },],
        "isDragMany": [{ type: Input, args: ['drag-many',] },],
        "currentIndex": [{ type: Input, args: ['current-index',] },],
        "autoplay": [{ type: Input, args: ['autoplay',] },],
        "indexChanged": [{ type: Output, args: ['index-change',] },],
    };
    return NgxHmCarouselComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxHmCarouselModule = /** @class */ (function () {
    function NgxHmCarouselModule() {
    }
    NgxHmCarouselModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule,
                        FormsModule,
                    ],
                    declarations: [
                        NgxHmCarouselComponent,
                        NgxHmCarouselItemDirective,
                        NgxHmCarouselDynamicDirective
                    ],
                    exports: [
                        NgxHmCarouselComponent,
                        NgxHmCarouselItemDirective,
                        NgxHmCarouselDynamicDirective
                    ]
                },] },
    ];
    return NgxHmCarouselModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NgxHmCarouselDynamicDirective, NgxHmCarouselItemDirective, NgxHmCarouselComponent, NgxHmCarouselModule, resizeObservable };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWhtLWNhcm91c2VsLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9uZ3gtaG0tY2Fyb3VzZWwvbGliL25neC1obS1jYXJvdXNlbC1keW5hbWljLmRpcmVjdGl2ZS50cyIsIm5nOi8vbmd4LWhtLWNhcm91c2VsL2xpYi9uZ3gtaG0tY2Fyb3VzZWwtaXRlbS5kaXJlY3RpdmUudHMiLCJuZzovL25neC1obS1jYXJvdXNlbC9saWIvcnhqcy5vYnNlcnZhYmxlLnJlc2l6ZS50cyIsIm5nOi8vbmd4LWhtLWNhcm91c2VsL2xpYi9uZ3gtaG0tY2Fyb3VzZWwuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtaG0tY2Fyb3VzZWwvbGliL25neC1obS1jYXJvdXNlbC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgT25Jbml0LCBUZW1wbGF0ZVJlZiwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdbbmd4SG1DYXJvdXNlbER5bmFtaWNdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgTmd4SG1DYXJvdXNlbER5bmFtaWNEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBASW5wdXQoJ25neEhtQ2Fyb3VzZWxEeW5hbWljJykgaW5kZXg6IG51bWJlcjtcclxuICBASW5wdXQoJ25neEhtQ2Fyb3VzZWxEeW5hbWljTGVuZ3RoJykgbGVuZ3RoOiBudW1iZXI7XHJcbiAgQElucHV0KCduZ3hIbUNhcm91c2VsRHluYW1pY0luZGV4JylcclxuXHJcbiAgc2V0IGN1cnJlbnRJKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5jb21wZWxldGUpIHtcclxuXHJcbiAgICAgIGNvbnN0IG5leHRJID0gdmFsdWUgKyAxO1xyXG4gICAgICBjb25zdCBwcmV2SSA9IHZhbHVlIC0gMTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLmluZGV4ID09PSAwIHx8XHJcbiAgICAgICAgdGhpcy5pbmRleCA9PT0gdGhpcy5sZW5ndGggLSAxIHx8XHJcbiAgICAgICAgdGhpcy5pbmRleCA9PT0gbmV4dEkgfHxcclxuICAgICAgICB0aGlzLmluZGV4ID09PSBwcmV2SSB8fFxyXG4gICAgICAgIHRoaXMuaW5kZXggPT09IHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdmlldy5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGUpO1xyXG4gICAgICAgIHRoaXMuY29tcGVsZXRlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb21wZWxldGUgPSBmYWxzZTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgX3ZpZXc6IFZpZXdDb250YWluZXJSZWYsXHJcbiAgICBwcml2YXRlIF90ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge1xyXG4gICAgdGhpcy5fdmlldy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICBzZWxlY3RvcjogJ1tuZ3gtaG0tY2Fyb3VzZWwtaXRlbV0nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOZ3hIbUNhcm91c2VsSXRlbURpcmVjdGl2ZSB7XHJcbiAgQE91dHB1dCgnbmd4LWhtLWNhcm91c2VsLWl0ZW0nKSBjbGlja0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG59XHJcbiIsImltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICdyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJzY3JpYmVyIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgdGFwLCBmaW5hbGl6ZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbi8qKlxyXG4gKiBBbiBvYnNlcnZhYmxlIGNyZWF0b3IgZm9yIGVsZW1lbnQgcmVzaXplLlxyXG4gKiBAcGFyYW0gZWxtIHRoZSB3YXRjaCBlbGVtZW50LlxyXG4gKiBAcGFyYW0gY2Igd2hlbiByZXNpemUgY29tcGxldGUsIGNhbGwgYmFjayBmdW5jdGlvbi5cclxuICogQHBhcmFtIHRpbWUgcmVzaXplIGVtaXQgdGltZSwgZGVmYXVsdCBpcyAyMDBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNpemVPYnNlcnZhYmxlKGVsbTogSFRNTEVsZW1lbnQsIGNiOiAoKSA9PiB2b2lkLCB0aW1lID0gMjAwKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICBsZXQgZWxtT2JzZXJ2ZSQ6IFJlc2l6ZU9ic2VydmVyO1xyXG4gIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZSgob2JzZXJ2ZXI6IFN1YnNjcmliZXI8YW55PikgPT4ge1xyXG4gICAgZWxtT2JzZXJ2ZSQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMsIG9icykgPT4ge1xyXG4gICAgICBvYnNlcnZlci5uZXh0KGVsbU9ic2VydmUkKTtcclxuICAgIH0pO1xyXG4gICAgZWxtT2JzZXJ2ZSQub2JzZXJ2ZShlbG0pO1xyXG4gIH0pLnBpcGUoXHJcbiAgICBkZWJvdW5jZVRpbWUodGltZSksXHJcbiAgICB0YXAoKCkgPT4ge1xyXG4gICAgICBjYigpO1xyXG4gICAgfSksXHJcbiAgICBmaW5hbGl6ZSgoKSA9PiB7XHJcbiAgICAgIGVsbU9ic2VydmUkLnVub2JzZXJ2ZShlbG0pO1xyXG4gICAgICBlbG1PYnNlcnZlJC5kaXNjb25uZWN0KCk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge1xyXG4gIEFmdGVyQ29udGVudEluaXQsXHJcbiAgQWZ0ZXJWaWV3SW5pdCxcclxuICBDb21wb25lbnQsXHJcbiAgQ29udGVudENoaWxkLFxyXG4gIENvbnRlbnRDaGlsZHJlbixcclxuICBFbGVtZW50UmVmLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBJbmplY3QsXHJcbiAgSW5wdXQsXHJcbiAgT25EZXN0cm95LFxyXG4gIE91dHB1dCxcclxuICBQTEFURk9STV9JRCxcclxuICBRdWVyeUxpc3QsXHJcbiAgUmVuZGVyZXIyLFxyXG4gIFRlbXBsYXRlUmVmLFxyXG4gIFZpZXdDaGlsZCxcclxuICBWaWV3RW5jYXBzdWxhdGlvbixcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlLCBmcm9tRXZlbnQsIGludGVydmFsLCBtZXJnZSwgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGJ1ZmZlckNvdW50LCBkZWJvdW5jZVRpbWUsIHN3aXRjaE1hcCwgdGFrZVVudGlsLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5pbXBvcnQgeyBOZ3hIbUNhcm91c2VsSXRlbURpcmVjdGl2ZSB9IGZyb20gJy4vbmd4LWhtLWNhcm91c2VsLWl0ZW0uZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgcmVzaXplT2JzZXJ2YWJsZSB9IGZyb20gJy4vcnhqcy5vYnNlcnZhYmxlLnJlc2l6ZSc7XHJcblxyXG4vLyBpZiB0aGUgcGFuZSBpcyBwYW5lZCAuMjUsIHN3aXRjaCB0byB0aGUgbmV4dCBwYW5lLlxyXG5jb25zdCBQQU5CT1VOREFSWSA9IDAuMTU7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25neC1obS1jYXJvdXNlbCcsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2ICNwYXJlbnRDaGlsZCBjbGFzcz1cImNhcm91c2VsXCI+XHJcbiAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW25neC1obS1jYXJvdXNlbC1jb250YWluZXJdXCI+PC9uZy1jb250ZW50PlxyXG4gIDwhLS0gbGVmdCAtLT5cclxuICA8ZGl2ICNwcmV2ICpuZ0lmPVwiY29udGVudFByZXZcIlxyXG4gICAgY2xhc3M9XCJkaXJlY3Rpb24gbGVmdFwiPlxyXG4gICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbnRlbnRQcmV2XCI+PC9uZy1jb250YWluZXI+XHJcbiAgPC9kaXY+XHJcbiAgPCEtLSAgcmlnaHQgLS0+XHJcbiAgPGRpdiAjbmV4dCAqbmdJZj1cImNvbnRlbnROZXh0XCJcclxuICAgIGNsYXNzPVwiZGlyZWN0aW9uIHJpZ2h0XCI+XHJcbiAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiY29udGVudE5leHRcIj48L25nLWNvbnRhaW5lcj5cclxuICA8L2Rpdj5cclxuICA8IS0tIGluZGljYXRvcnMgLS0+XHJcbiAgPHVsIGNsYXNzPVwiaW5kaWNhdG9yc1wiICpuZ0lmPVwiZG90RWxtXCI+XHJcbiAgICA8bGlcclxuICAgICAgKm5nRm9yPVwibGV0IGRvdCBvZiBkb3RzOyBsZXQgaSA9IGluZGV4O1wiXHJcbiAgICAgIChjbGljayk9XCJzZXRJbmRleChpKVwiPlxyXG4gICAgICA8bmctY29udGFpbmVyXHJcbiAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJkb3RFbG0sIGNvbnRleHQ6IHtcclxuICAgICAgICAgICRpbXBsaWNpdDoge1xyXG4gICAgICAgICAgICBpbmRleCA6IGksXHJcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA6IGN1cnJlbnRJbmRleFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cIj5cclxuICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICA8L2xpPlxyXG4gIDwvdWw+XHJcbiAgPCEtLSBwcm9ncmVzcyAtLT5cclxuICA8ZGl2ICpuZ0lmPVwicHJvZ3Jlc3NFbG0gJiYgYXV0b3BsYXlcIj5cclxuICAgIDxuZy1jb250YWluZXJcclxuICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJwcm9ncmVzc0VsbSwgY29udGV4dDoge1xyXG4gICAgICAgICRpbXBsaWNpdDoge1xyXG4gICAgICAgICAgcHJvZ3Jlc3M6cHJvZ3Jlc3NXaWR0aFxyXG4gICAgICAgIH1cclxuICAgICAgfVwiPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gLFxyXG4gIHN0eWxlczogW2A6aG9zdHtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlfS5uZ3gtaG0tY2Fyb3VzZWwtZGlzcGxheS1ucHdyYXB7ZGlzcGxheTpmbGV4IWltcG9ydGFudDtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudDtmbGV4LWRpcmVjdGlvbjpyb3chaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LmNhcm91c2Vse292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5jYXJvdXNlbCB1bC5pbmRpY2F0b3Jze2xpc3Qtc3R5bGU6bm9uZTtib3R0b206MXJlbTtsZWZ0OjA7bWFyZ2luOjA7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjEwMCV9LmNhcm91c2VsIHVsLmluZGljYXRvcnMgbGl7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzouNXJlbX0uY2Fyb3VzZWwgLmRpcmVjdGlvbntwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7dG9wOjB9LmNhcm91c2VsIC5kaXJlY3Rpb24ubGVmdHtsZWZ0OjB9LmNhcm91c2VsIC5kaXJlY3Rpb24ucmlnaHR7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MH0udHJhbnNpdGlvbnt0cmFuc2l0aW9uOmFsbCAuNHMgZWFzZS1pbi1vdXR9LmdyYWJ7Y3Vyc29yOi13ZWJraXQtZ3JhYjtjdXJzb3I6Z3JhYn0uZ3JhYmJpbmd7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmc7Y3Vyc29yOmdyYWJiaW5nfS5wb2ludGVye2N1cnNvcjpwb2ludGVyfWBdLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIE5neEhtQ2Fyb3VzZWxDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBBZnRlckNvbnRlbnRJbml0LCBPbkRlc3Ryb3kge1xyXG4gIEBWaWV3Q2hpbGQoJ3BhcmVudENoaWxkJykgcGFyZW50Q2hpbGQ7XHJcbiAgQFZpZXdDaGlsZCgncHJldicpIHByaXZhdGUgYnRuUHJldjogRWxlbWVudFJlZjtcclxuICBAVmlld0NoaWxkKCduZXh0JykgcHJpdmF0ZSBidG5OZXh0OiBFbGVtZW50UmVmO1xyXG4gIEBDb250ZW50Q2hpbGRyZW4oTmd4SG1DYXJvdXNlbEl0ZW1EaXJlY3RpdmUpIGl0ZW1zOiBRdWVyeUxpc3Q8Tmd4SG1DYXJvdXNlbEl0ZW1EaXJlY3RpdmU+O1xyXG4gIEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsUHJldicpIGNvbnRlbnRQcmV2OiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsTmV4dCcpIGNvbnRlbnROZXh0OiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsRG90JykgZG90RWxtOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsUHJvZ3Jlc3MnKSBwcm9ncmVzc0VsbTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgQElucHV0KCdhbmlUaW1lJykgYW5pVGltZSA9IDQwMDtcclxuICBASW5wdXQoJ2FsaWduJykgYWxpZ246ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JyA9ICdjZW50ZXInO1xyXG4gIEBJbnB1dCgnaW5maW5pdGUnKSBpbmZpbml0ZSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgnbW91cnNlLWVuYWJsZScpIG1vdXJzZUVuYWJsZSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgnYXV0b3BsYXktc3BlZWQnKSBzcGVlZCA9IDUwMDA7XHJcbiAgQElucHV0KCdiZXR3ZWVuLWRlbGF5JykgZGVsYXkgPSA4MDAwO1xyXG4gIEBJbnB1dCgnYXV0b3BsYXktZGlyZWN0aW9uJykgZGlyZWN0aW9uOiAnbGVmdCcgfCAncmlnaHQnID0gJ3JpZ2h0JztcclxuICBASW5wdXQoJ3Nob3ctbnVtJylcclxuICBzZXQgc2hvd051bSh2YWx1ZTogbnVtYmVyIHwgJ2F1dG8nKSB7XHJcbiAgICBpZiAodmFsdWUgPT09ICdhdXRvJykge1xyXG4gICAgICB0aGlzLmlzQXV0b051bSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93TnVtID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBzaG93TnVtKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Nob3dOdW07XHJcbiAgfVxyXG4gIEBJbnB1dCgnc2Nyb2xsLW51bScpIHNjcm9sbE51bSA9IDE7XHJcbiAgQElucHV0KCdkcmFnLW1hbnknKSBpc0RyYWdNYW55ID0gZmFsc2U7XHJcbiAgQElucHV0KCdjdXJyZW50LWluZGV4JylcclxuICBzZXQgY3VycmVudEluZGV4KHZhbHVlKSB7XHJcbiAgICAvLyBpZiBub3cgaW5kZXggaWYgbm90IGVxdWFsZSB0byBzYXZlIGluZGV4LCBkbyBzb21ldGluZ1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4ICE9PSB2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSB2YWx1ZTtcclxuXHJcbiAgICAgIGlmICh0aGlzLml0ZW1zRWxtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkgJiYgIXRoaXMuaXNGcm9tQXV0bykge1xyXG4gICAgICAgICAgdGhpcy5zdG9wRXZlbnQubmV4dCgpO1xyXG4gICAgICAgICAgdGhpcy5yZXN0YXJ0Lm5leHQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZHJhd1ZpZXcodGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzRnJvbUF1dG8gPSBmYWxzZTtcclxuICB9XHJcbiAgZ2V0IGN1cnJlbnRJbmRleCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50SW5kZXg7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoJ2F1dG9wbGF5JylcclxuICBzZXQgYXV0b3BsYXkodmFsdWUpIHtcclxuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XHJcbiAgICAgIGlmICh0aGlzLml0ZW1zRWxtKSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc1dpZHRoID0gMDtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgIHRoaXMuZG9OZXh0U3ViJCA9IHRoaXMuZG9OZXh0LnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5kb05leHRTdWIkKSB7IHRoaXMuZG9OZXh0U3ViJC51bnN1YnNjcmliZSgpOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLl9hdXRvcGxheSA9IHZhbHVlO1xyXG4gIH1cclxuICBnZXQgYXV0b3BsYXkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXV0b3BsYXk7XHJcbiAgfVxyXG5cclxuICBAT3V0cHV0KCdpbmRleC1jaGFuZ2UnKSBpbmRleENoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgc2V0IHByb2dyZXNzV2lkdGgodmFsdWUpIHtcclxuICAgIGlmICh0aGlzLnByb2dyZXNzRWxtICE9PSB1bmRlZmluZWQgJiYgdGhpcy5hdXRvcGxheSkge1xyXG4gICAgICB0aGlzLl9wb3JncmVzc1dpZHRoID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBwcm9ncmVzc1dpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvcmdyZXNzV2lkdGg7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzRnJvbUF1dG8gPSB0cnVlO1xyXG4gIHByaXZhdGUgX2N1cnJlbnRJbmRleCA9IDA7XHJcbiAgcHJpdmF0ZSBfc2hvd051bSA9IDE7XHJcbiAgcHJpdmF0ZSBpc0F1dG9OdW0gPSBmYWxzZTtcclxuICBwcml2YXRlIF9hdXRvcGxheSA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX3BvcmdyZXNzV2lkdGggPSAwO1xyXG5cclxuICBwcml2YXRlIHJvb3RFbG06IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgYWxpZ25EaXN0YW5jZSA9IDA7XHJcbiAgcHJpdmF0ZSBjb250YWluZXJFbG06IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgaXRlbXNFbG06IEFycmF5PEhUTUxFbGVtZW50PjtcclxuICBwcml2YXRlIGxhc3RJbmRleCA9IDA7XHJcbiAgcHJpdmF0ZSBoYW1tZXI6IEhhbW1lck1hbmFnZXI7XHJcbiAgcHJpdmF0ZSBlbG1XaWR0aCA9IDA7XHJcbiAgcHJpdmF0ZSBjb250YWluZXJfbGVmdCA9IDA7XHJcblxyXG4gIHByaXZhdGUgbW91c2VPbkNvbnRhaW5lciA9IGZhbHNlO1xyXG4gIHByaXZhdGUgcmVzdGFydCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTtcclxuICBwcml2YXRlIHN0b3BFdmVudCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuXHJcbiAgcHJpdmF0ZSBkb05leHQ6IE9ic2VydmFibGU8YW55PjtcclxuICBwcml2YXRlIGRvTmV4dFN1YiQ6IFN1YnNjcmlwdGlvbjtcclxuICBwcml2YXRlIGVsbVN1YiQ6IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgcHJpdmF0ZSBmaXJzdEVsbV9jbG9uZTtcclxuICBwcml2YXRlIExhdGVzdEVsbV9jbG9uZTtcclxuICBwcml2YXRlIHByZVBhbk1vdmU6IGJvb2xlYW47XHJcbiAgcHVibGljIGRvdHM6IEFycmF5PG51bWJlcj47XHJcbiAgcHJpdmF0ZSBuZXh0TGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcbiAgcHJpdmF0ZSBwcmV2TGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgQEluamVjdChQTEFURk9STV9JRCkgcHJpdmF0ZSBwbGF0Zm9ybUlkOiBPYmplY3QsXHJcbiAgICBwcml2YXRlIF9yZW5kZXJlcjogUmVuZGVyZXIyKSB7IH1cclxuXHJcbiAgbmdBZnRlckNvbnRlbnRJbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbml0VmFyaWFibGUoKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHRoaXMuc2V0Vmlld1dpZHRoKHRydWUpO1xyXG4gICAgdGhpcy5yZVNldFZhcmlhYmxlKCk7XHJcbiAgICB0aGlzLmhhbW1lciA9IHRoaXMuYmluZEhhbW1lcigpO1xyXG4gICAgdGhpcy5kcmF3Vmlldyh0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICB0aGlzLmJpbmRDbGljaygpO1xyXG5cclxuICAgIGlmICh0aGlzLmF1dG9wbGF5IHx8IHRoaXMuaW5maW5pdGUpIHtcclxuICAgICAgdGhpcy5hZGRJbmZpbml0ZUVsbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxtU3ViJCA9IHJlc2l6ZU9ic2VydmFibGUodGhpcy5yb290RWxtLCAoKSA9PiB0aGlzLmNvbnRhaW5lclJlc2l6ZSgpKS5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkSW5maW5pdGVFbG0oKSB7XHJcbiAgICB0aGlzLmZpcnN0RWxtX2Nsb25lID0gdGhpcy5pdGVtc0VsbVt0aGlzLmxhc3RJbmRleF0uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgdGhpcy5hZGRTdHlsZSh0aGlzLmZpcnN0RWxtX2Nsb25lLCB7XHJcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC0xMDAlKSdcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB0aGlzLkxhdGVzdEVsbV9jbG9uZSA9IHRoaXMuaXRlbXNFbG1bMF0uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgdGhpcy5hZGRTdHlsZSh0aGlzLkxhdGVzdEVsbV9jbG9uZSwge1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgIHRvcDogMCxcclxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgxMDAlKSdcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3JlbmRlcmVyLmluc2VydEJlZm9yZSh0aGlzLmNvbnRhaW5lckVsbSwgdGhpcy5maXJzdEVsbV9jbG9uZSwgdGhpcy5pdGVtc0VsbVswXSk7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lckVsbSwgdGhpcy5MYXRlc3RFbG1fY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb250YWluZXJSZXNpemUoKSB7XHJcbiAgICB0aGlzLnJlU2V0VmFyaWFibGUoKTtcclxuICAgIHRoaXMuc2V0Vmlld1dpZHRoKCk7XHJcblxyXG4gICAgLy8gw6XCm8Kgw6fCgsK6w6TCuMKNw6jCg8K9w6bCu8KRw6TCusKGw6/CvMKMw6bCicKAw6TCu8Klw6jCpsKBw6XCm8Kew6XCiMKww6fCrMKsw6TCuMKAw6XCgMKLw6/CvMKMw6TCu8Klw6fCosK6w6TCv8Kdw6XChcKow6nCg8Kow6nCg8K9w6bCnMKJw6nCocKvw6fCpMK6XHJcbiAgICBpZiAodGhpcy5zaG93TnVtID49IHRoaXMuaXRlbXNFbG0ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcclxuICAgIH1cclxuICAgIHRoaXMuZHJhd1ZpZXcodGhpcy5jdXJyZW50SW5kZXgsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMuYnRuTmV4dCAmJiB0aGlzLmJ0blByZXYpIHtcclxuICAgICAgdGhpcy5uZXh0TGlzdGVuZXIoKTtcclxuICAgICAgdGhpcy5wcmV2TGlzdGVuZXIoKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGFtbWVyLmRlc3Ryb3koKTtcclxuICAgIGlmICh0aGlzLmF1dG9wbGF5KSB7XHJcbiAgICAgIHRoaXMuZG9OZXh0U3ViJC51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxtU3ViJC51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5kZXgoaSkge1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSBpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0VmFyaWFibGUoKSB7XHJcbiAgICB0aGlzLnJvb3RFbG0gPSB0aGlzLnBhcmVudENoaWxkLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICB0aGlzLmNvbnRhaW5lckVsbSA9IHRoaXMucm9vdEVsbS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudDtcclxuICAgIHRoaXMuaXRlbXNFbG0gPSBBcnJheS5mcm9tKHRoaXMuY29udGFpbmVyRWxtLmNoaWxkcmVuKSBhcyBIVE1MRWxlbWVudFtdO1xyXG4gICAgdGhpcy5sYXN0SW5kZXggPSB0aGlzLml0ZW1zRWxtLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgaWYgKHRoaXMuZG90RWxtKSB7XHJcbiAgICAgIHRoaXMuZG90cyA9IG5ldyBBcnJheSh0aGlzLml0ZW1zRWxtLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHN0YXJ0RXZlbnQgPSB0aGlzLnJlc3RhcnQuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICBsZXQgc3RvcEV2ZW50ID0gdGhpcy5zdG9wRXZlbnQuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICBpZiAodGhpcy5tb3Vyc2VFbmFibGUpIHtcclxuICAgICAgc3RhcnRFdmVudCA9IG1lcmdlKFxyXG4gICAgICAgIHN0YXJ0RXZlbnQsXHJcbiAgICAgICAgZnJvbUV2ZW50KHRoaXMuY29udGFpbmVyRWxtLCAnbW91c2VsZWF2ZScpLnBpcGUoXHJcbiAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5tb3VzZU9uQ29udGFpbmVyID0gZmFsc2UpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBzdG9wRXZlbnQgPSBtZXJnZShcclxuICAgICAgICBzdG9wRXZlbnQsXHJcbiAgICAgICAgZnJvbUV2ZW50KHRoaXMuY29udGFpbmVyRWxtLCAnbW91c2VvdmVyJykucGlwZShcclxuICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLm1vdXNlT25Db250YWluZXIgPSB0cnVlKVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRvTmV4dCA9IHN0YXJ0RXZlbnQucGlwZShcclxuICAgICAgZGVib3VuY2VUaW1lKHRoaXMuZGVsYXkpLFxyXG4gICAgICBzd2l0Y2hNYXAoKCkgPT5cclxuICAgICAgICB0aGlzLnJ1blByb2dyZXNzKDIwKS5waXBlKFxyXG4gICAgICAgICAgdGFwKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc0Zyb21BdXRvID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ25leHQnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCAtPSB0aGlzLnNjcm9sbE51bTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCArPSB0aGlzLnNjcm9sbE51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICB0YWtlVW50aWwoc3RvcEV2ZW50LnBpcGUodGFwKCgpID0+IHRoaXMucHJvZ3Jlc3NXaWR0aCA9IDApKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcclxuICAgICAgdGhpcy5kb05leHRTdWIkID0gdGhpcy5kb05leHQuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlU2V0VmFyaWFibGUoKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lcl9sZWZ0ID0gdGhpcy5yb290RWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICBpZiAodGhpcy5zaG93TnVtICYmIHRoaXMuc2hvd051bSAhPT0gMSkge1xyXG4gICAgICBzd2l0Y2ggKHRoaXMuYWxpZ24pIHtcclxuICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgICAgdGhpcy5hbGlnbkRpc3RhbmNlID0gKHRoaXMucm9vdEVsbS5jbGllbnRXaWR0aCAtIHRoaXMuZWxtV2lkdGgpIC8gMjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgdGhpcy5hbGlnbkRpc3RhbmNlID0gMDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgIHRoaXMuYWxpZ25EaXN0YW5jZSA9IHRoaXMucm9vdEVsbS5jbGllbnRXaWR0aCAtIHRoaXMuZWxtV2lkdGg7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5hbGlnbkRpc3RhbmNlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0Vmlld1dpZHRoKGlzSW5pdD86IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmlzQXV0b051bSkge1xyXG4gICAgICB0aGlzLl9zaG93TnVtID0gdGhpcy5nZXRBdXRvTnVtKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmNvbnRhaW5lckVsbSwgJ2dyYWInKTtcclxuICAgIC8vIHdoZW4gaW5pdCBjaGVjayB2aWV3IGhhcyBzY3JvbGwgYmFyXHJcbiAgICBjb25zdCB0b3RhbFdpZHRoID0gMDtcclxuICAgIGlmIChpc0luaXQpIHtcclxuICAgICAgLy8gcmVtYWluIG9uZSBlbG0gaGVpZ2h0XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKHRoaXMuY29udGFpbmVyRWxtLCAnbmd4LWhtLWNhcm91c2VsLWRpc3BsYXktbnB3cmFwJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVsbVdpZHRoID0gKHRvdGFsV2lkdGggKyB0aGlzLnJvb3RFbG0uY2xpZW50V2lkdGgpIC8gdGhpcy5fc2hvd051bTtcclxuXHJcbiAgICB0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmNvbnRhaW5lckVsbSwgJ25neC1obS1jYXJvdXNlbC1kaXNwbGF5LW5wd3JhcCcpO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICd3aWR0aCcsIGAke3RoaXMuZWxtV2lkdGggKiB0aGlzLml0ZW1zRWxtLmxlbmd0aH1weGApO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG4gICAgdGhpcy5pdGVtc0VsbS5mb3JFYWNoKChlbG06IEhUTUxFbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0sICd3aWR0aCcsIGAke3RoaXMuZWxtV2lkdGh9cHhgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLmZpcnN0RWxtX2Nsb25lKSB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuZmlyc3RFbG1fY2xvbmUsICd3aWR0aCcsIGAke3RoaXMuZWxtV2lkdGh9cHhgKTtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5MYXRlc3RFbG1fY2xvbmUsICd3aWR0aCcsIGAke3RoaXMuZWxtV2lkdGh9cHhgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYmluZEhhbW1lcigpIHtcclxuICAgIGNvbnN0IGhtID0gbmV3IEhhbW1lcih0aGlzLmNvbnRhaW5lckVsbSk7XHJcbiAgICBobS5nZXQoJ3BhbicpLnNldCh7IGRpcmVjdGlvbjogSGFtbWVyLkRJUkVDVElPTl9IT1JJWk9OVEFMIH0pO1xyXG5cclxuICAgIGhtLm9uKCdwYW5sZWZ0IHBhbnJpZ2h0IHBhbmVuZCB0YXAnLCAoZTogSGFtbWVySW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5jb250YWluZXJFbG0sICd0cmFuc2l0aW9uJyk7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKHRoaXMuY29udGFpbmVyRWxtLCAnZ3JhYmJpbmcnKTtcclxuICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcclxuICAgICAgICB0aGlzLnN0b3BFdmVudC5uZXh0KCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29uc29sZS5sb2coZS50eXBlKTtcclxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcclxuICAgICAgICBjYXNlICd0YXAnOlxyXG4gICAgICAgICAgdGhpcy5jYWxsQ2xpY2soZS5jZW50ZXIueCk7XHJcbiAgICAgICAgICB0aGlzLmNhbGxSZXN0YXJ0KCk7XHJcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmNvbnRhaW5lckVsbSwgJ2dyYWJiaW5nJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdwYW5sZWZ0JzpcclxuICAgICAgICBjYXNlICdwYW5yaWdodCc6XHJcblxyXG4gICAgICAgICAgLy8gw6nCocKvw6fCpMK6w6fCuMK9w6bClcK4w6nCh8KPw6XCsMKPw6bClsK8w6fCuMK9w6bClcK4w6nCh8KPw6/CvMKMw6XCgcKcw6bCrcKiw6bCu8KRw6XCi8KVXHJcbiAgICAgICAgICBpZiAodGhpcy5zaG93TnVtID49IHRoaXMuaXRlbXNFbG0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFtbWVyLnN0b3AodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUuZGVsdGFZKTtcclxuICAgICAgICAgIHRoaXMucHJlUGFuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGUuZGVsdGFZKSA+IDUwKSB7IHJldHVybjsgfVxyXG4gICAgICAgICAgLy8gU2xvdyBkb3duIGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBwYW5lLlxyXG4gICAgICAgICAgaWYgKCEodGhpcy5hdXRvcGxheSB8fCB0aGlzLmluZmluaXRlKSAmJiB0aGlzLm91dE9mQm91bmQoZS50eXBlKSkge1xyXG4gICAgICAgICAgICBlLmRlbHRhWCAqPSAwLjI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICdsZWZ0JywgYCR7LXRoaXMuY3VycmVudEluZGV4ICogdGhpcy5lbG1XaWR0aCArIHRoaXMuYWxpZ25EaXN0YW5jZSArIGUuZGVsdGFYfXB4YCk7XHJcblxyXG4gICAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ01hbnkpIHtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGUuZGVsdGFYKSA+IHRoaXMuZWxtV2lkdGggKiAwLjUpIHtcclxuICAgICAgICAgICAgICBpZiAoZS5kZWx0YVggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCAtPSB0aGlzLnNjcm9sbE51bTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggKz0gdGhpcy5zY3JvbGxOdW07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuY29udGFpbmVyRWxtLCAnZ3JhYmJpbmcnKTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbGxSZXN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5oYW1tZXIuc3RvcCh0cnVlKTtcclxuICAgICAgICAgICAgICAvLyByZW1lbWJlciBwcnYgYWN0aW9uLCB0byBhdm9pZCBoYW1tZXIgc3RvcCwgdGhlbiBjbGlja1xyXG4gICAgICAgICAgICAgIHRoaXMucHJlUGFuTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3BhbmVuZCc6XHJcbiAgICAgICAgICB0aGlzLmNhbGxSZXN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5jb250YWluZXJFbG0sICdncmFiYmluZycpO1xyXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGUuZGVsdGFYKSA+IHRoaXMuZWxtV2lkdGggKiBQQU5CT1VOREFSWSkge1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlTnVtID0gdGhpcy5pc0RyYWdNYW55ID9cclxuICAgICAgICAgICAgICBNYXRoLmNlaWwoTWF0aC5hYnMoZS5kZWx0YVgpIC8gdGhpcy5lbG1XaWR0aCkgOiB0aGlzLnNjcm9sbE51bTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwcmV2SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleCAtIG1vdmVOdW07XHJcbiAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleCArIG1vdmVOdW07XHJcblxyXG4gICAgICAgICAgICAvLyDDpcKmwoLDpsKewpzDpMK4wo3DpsKYwq/Dp8KEwqHDqcKZwpDDpcK+wqrDp8KSwrDDr8K8wozDpMK4wo3DqMKDwr3DpcKkwqfDpsKWwrzDpsKIwpbDpcKwwo/DpsKWwrxcclxuXHJcbiAgICAgICAgICAgIGlmIChlLmRlbHRhWCA+IDApIHtcclxuICAgICAgICAgICAgICBpZiAoISh0aGlzLmF1dG9wbGF5IHx8IHRoaXMuaW5maW5pdGUpICYmIHByZXZJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdWaWV3KDApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBwcmV2SW5kZXg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKCEodGhpcy5hdXRvcGxheSB8fCB0aGlzLmluZmluaXRlKSAmJiBuZXh0SW5kZXggPiB0aGlzLmxhc3RJbmRleCAtIHRoaXMuX3Nob3dOdW0gKyAxKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSB0aGlzLmxhc3RJbmRleCAtIHRoaXMuX3Nob3dOdW0gKyAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3VmlldyhuZXh0SW5kZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG5leHRJbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdNYW55ICYmIHRoaXMucHJlUGFuTW92ZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FsbENsaWNrKGUuY2VudGVyLngpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICAgICAgICB0aGlzLmRyYXdWaWV3KHRoaXMuY3VycmVudEluZGV4KTtcclxuICAgICAgICAgIHRoaXMucHJlUGFuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBobTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYmluZENsaWNrKCkge1xyXG4gICAgaWYgKHRoaXMuYnRuTmV4dCAmJiB0aGlzLmJ0blByZXYpIHtcclxuICAgICAgdGhpcy5uZXh0TGlzdGVuZXIgPSB0aGlzLl9yZW5kZXJlci5saXN0ZW4odGhpcy5idG5OZXh0Lm5hdGl2ZUVsZW1lbnQsICdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCsrO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5wcmV2TGlzdGVuZXIgPSB0aGlzLl9yZW5kZXJlci5saXN0ZW4odGhpcy5idG5QcmV2Lm5hdGl2ZUVsZW1lbnQsICdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleC0tO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FsbFJlc3RhcnQoKSB7XHJcbiAgICBpZiAodGhpcy5hdXRvcGxheSAmJiAhdGhpcy5tb3VzZU9uQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMucmVzdGFydC5uZXh0KG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjYWxsQ2xpY2socG9zaXRpb25YKSB7XHJcbiAgICAvLyBjbGljayBwb3NpdGlvbiBzdWJ0cmFjdCB0aGUgY29udGFpbmVybGVmIGFuZCBhbGlnbkRpc3RhbmNlIGlzIHRoZSBtb3ZlIGRpc3RhbmNlXHJcbiAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5jdXJyZW50SW5kZXggKyBNYXRoLmZsb29yKChwb3NpdGlvblggLSB0aGlzLmNvbnRhaW5lcl9sZWZ0IC0gdGhpcy5hbGlnbkRpc3RhbmNlKSAvIHRoaXMuZWxtV2lkdGgpO1xyXG5cclxuICAgIGNvbnN0IGVsbSA9IHRoaXMuaXRlbXMudG9BcnJheSgpW3RvSW5kZXhdO1xyXG4gICAgaWYgKGVsbSkge1xyXG4gICAgICBlbG0uY2xpY2tFdmVudC5lbWl0KHRvSW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmF3VmlldyhpbmRleDogbnVtYmVyLCBpc0VtaXQgPSB0cnVlKSB7XHJcbiAgICBjb25zdCBsYXN0SW5kZXggPSB0aGlzLmxhc3RJbmRleDtcclxuXHJcbiAgICBpZiAodGhpcy5hdXRvcGxheSB8fCB0aGlzLmluZmluaXRlKSB7XHJcbiAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSBsYXN0SW5kZXg7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHtcclxuICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSAwO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgdGhpcy5sYXN0SW5kZXgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDDpcKPwqrDpsKcwonDp8KVwrbDpcKkwqfDpsKWwrwxw6bCicKNw6jCpsKBw6fCp8K7w6XCi8KVXHJcbiAgICBpZiAodGhpcy5pdGVtc0VsbS5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGNvbnN0IGxlZnREaXN0YW5jZSA9IChpbmRleCAqIHRoaXMuZWxtV2lkdGgpIC0gdGhpcy5hbGlnbkRpc3RhbmNlO1xyXG5cclxuICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICdsZWZ0JywgYCR7LWxlZnREaXN0YW5jZX1weGApO1xyXG4gICAgICBpZiAoaXNFbWl0KSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5jb250YWluZXJFbG0sICd0cmFuc2l0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZWQuZW1pdCh0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5jb250YWluZXJFbG0sICd0cmFuc2l0aW9uJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIMOlwqbCgsOmwp7CnMOmwpjCr8Olwr7CqsOnwpLCsMOnwprChMOvwrzCjMOnwpXCtsOlwovClcOnwpXCq8OnwrXCkMOmwp3Cn8OlwoHCt8OlwoHCt8OnwprChMOowrfCs8OlwojCsMOnwpXCtsOlwonCjcOnwprChGluZGV4w6PCgMKBbGVmdMOlwo7Cu1xyXG4gICAgICB0aGlzLkluZmluaXRlSGFuZGxlcihpbmRleCwgbGFzdEluZGV4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuY29udGFpbmVyRWxtLCAnbGVmdCcsIGAke3RoaXMuYWxpZ25EaXN0YW5jZX1weGApO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgSW5maW5pdGVIYW5kbGVyKGluZGV4OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKSB7XHJcbiAgICBpZiAoKHRoaXMuYXV0b3BsYXkgfHwgdGhpcy5pbmZpbml0ZSkpIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5jb250YWluZXJFbG0sICd0cmFuc2l0aW9uJyk7XHJcbiAgICAgICAgLy8gw6XCpsKCw6bCnsKcw6bCmMKvw6XCvsKqw6fCksKww6fCmsKEw6/CvMKMw6fClcK2w6XCi8KVw6fClcKrw6fCtcKQw6bCncKfw6XCgcK3w6XCgcK3w6fCmsKEw6jCt8Kzw6XCiMKww6fClcK2w6XCicKNw6fCmsKEaW5kZXjDo8KAwoFsZWZ0w6XCjsK7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcclxuICAgICAgICBpZiAoaW5kZXggPD0gLTEpIHtcclxuICAgICAgICAgIGRpc3RhbmNlID0gKGxhc3RJbmRleCAqIHRoaXMuZWxtV2lkdGgpIC0gdGhpcy5hbGlnbkRpc3RhbmNlO1xyXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICdsZWZ0JywgYCR7LWRpc3RhbmNlfXB4YCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5jb250YWluZXJFbG0sICdsZWZ0JywgYDBweGApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcy5hbmlUaW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb3V0T2ZCb3VuZCh0eXBlKSB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAncGFubGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMubGFzdEluZGV4IC0gdGhpcy5fc2hvd051bSArIDE7XHJcbiAgICAgIGNhc2UgJ3BhbnJpZ2h0JzpcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5kZXggPD0gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcnVuUHJvZ3Jlc3MoYmV0d2VlblRpbWUpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaG93VGltZXMgPSB0aGlzLnNwZWVkIC8gYmV0d2VlblRpbWU7XHJcbiAgICBjb25zdCBldmVyeUluY3JlYXNlID0gMTAwIC8gdGhpcy5zcGVlZCAqIGJldHdlZW5UaW1lO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3Byb2dyZXNzJyk7XHJcbiAgICByZXR1cm4gaW50ZXJ2YWwoYmV0d2VlblRpbWUpLnBpcGUoXHJcbiAgICAgIHRhcCh0ID0+IHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzV2lkdGggPSAodCAlIGhvd1RpbWVzKSAqIGV2ZXJ5SW5jcmVhc2U7XHJcbiAgICAgIH0pLFxyXG4gICAgICBidWZmZXJDb3VudChNYXRoLnJvdW5kKHRoaXMuc3BlZWQgLyBiZXR3ZWVuVGltZSksIDApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBdXRvTnVtKCkge1xyXG4gICAgY29uc3QgaW5pdE51bSA9IDM7XHJcbiAgICAvLyA2MTBcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yb290RWxtLmNsaWVudFdpZHRoO1xyXG4gICAgaWYgKHdpZHRoID4gMzAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGluaXROdW0gKyAod2lkdGggLyAyMDApKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpbml0TnVtO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRTdHlsZShlbG06IEhUTUxFbGVtZW50LCBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfSkge1xyXG4gICAgaWYgKHN0eWxlKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlW2tleV07XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtLCBrZXksIHZhbHVlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuXHJcbmltcG9ydCB7IE5neEhtQ2Fyb3VzZWxEeW5hbWljRGlyZWN0aXZlIH0gZnJvbSAnLi9uZ3gtaG0tY2Fyb3VzZWwtZHluYW1pYy5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBOZ3hIbUNhcm91c2VsSXRlbURpcmVjdGl2ZSB9IGZyb20gJy4vbmd4LWhtLWNhcm91c2VsLWl0ZW0uZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgTmd4SG1DYXJvdXNlbENvbXBvbmVudCB9IGZyb20gJy4vbmd4LWhtLWNhcm91c2VsLmNvbXBvbmVudCc7XHJcblxyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBGb3Jtc01vZHVsZSxcclxuICBdLFxyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgTmd4SG1DYXJvdXNlbENvbXBvbmVudCxcclxuICAgIE5neEhtQ2Fyb3VzZWxJdGVtRGlyZWN0aXZlLFxyXG4gICAgTmd4SG1DYXJvdXNlbER5bmFtaWNEaXJlY3RpdmVcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIE5neEhtQ2Fyb3VzZWxDb21wb25lbnQsXHJcbiAgICBOZ3hIbUNhcm91c2VsSXRlbURpcmVjdGl2ZSxcclxuICAgIE5neEhtQ2Fyb3VzZWxEeW5hbWljRGlyZWN0aXZlXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTmd4SG1DYXJvdXNlbE1vZHVsZSB7IH1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7SUE4QkUsdUNBQ1UsT0FDQTtRQURBLFVBQUssR0FBTCxLQUFLO1FBQ0wsY0FBUyxHQUFULFNBQVM7eUJBSEMsS0FBSztRQUl2QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQ3BCOzBCQXZCRyxtREFBUTs7Ozs7a0JBQUMsS0FBYTtZQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFFbkIscUJBQU0sS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLHFCQUFNLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUV4QixJQUNFLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQztvQkFDaEIsSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUM7b0JBQzlCLElBQUksQ0FBQyxLQUFLLEtBQUssS0FBSztvQkFDcEIsSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLO29CQUNwQixJQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBRTtvQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQzlDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2lCQUN2QjthQUNGOzs7Ozs7OztJQVVILGdEQUFROzs7SUFBUjtLQUNDOztnQkFuQ0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSx3QkFBd0I7aUJBQ25DOzs7O2dCQUorQyxnQkFBZ0I7Z0JBQTdCLFdBQVc7OzswQkFPM0MsS0FBSyxTQUFDLHNCQUFzQjsyQkFDNUIsS0FBSyxTQUFDLDRCQUE0Qjs2QkFDbEMsS0FBSyxTQUFDLDJCQUEyQjs7d0NBVHBDOzs7Ozs7O0FDQUE7SUFRRTswQkFGNkMsSUFBSSxZQUFZLEVBQVU7S0FFdEQ7O2dCQU5sQixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLHdCQUF3QjtpQkFDbkM7Ozs7OytCQUVFLE1BQU0sU0FBQyxzQkFBc0I7O3FDQU5oQzs7Ozs7OztBQ0FBOzs7Ozs7O0FBVUEsMEJBQWlDLEdBQWdCLEVBQUUsRUFBYyxFQUFFLElBQVU7SUFBVixxQkFBQSxFQUFBLFVBQVU7SUFDM0UscUJBQUksV0FBMkIsQ0FBQztJQUNoQyxPQUFPLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBQyxRQUF5QjtRQUNqRCxXQUFXLEdBQUcsSUFBSSxjQUFjLENBQUMsVUFBQyxPQUFPLEVBQUUsR0FBRztZQUM1QyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzVCLENBQUMsQ0FBQztRQUNILFdBQVcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDMUIsQ0FBQyxDQUFDLElBQUksQ0FDTCxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQ2xCLEdBQUcsQ0FBQztRQUNGLEVBQUUsRUFBRSxDQUFDO0tBQ04sQ0FBQyxFQUNGLFFBQVEsQ0FBQztRQUNQLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDO0tBQzFCLENBQUMsQ0FDSCxDQUFDO0NBQ0g7Ozs7OztBQzNCRDtBQTJCQSxxQkFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDOztJQTJKdkIsZ0NBQytCLFlBQ3JCO1FBRHFCLGVBQVUsR0FBVixVQUFVO1FBQy9CLGNBQVMsR0FBVCxTQUFTO3VCQXJHUyxHQUFHO3FCQUNzQixRQUFRO3dCQUMvQixLQUFLOzRCQUNJLEtBQUs7cUJBQ1gsSUFBSTtxQkFDTCxJQUFJO3lCQUN1QixPQUFPO3lCQVlqQyxDQUFDOzBCQUNELEtBQUs7NEJBdUNDLElBQUksWUFBWSxFQUFFOzBCQVVwQyxJQUFJOzZCQUNELENBQUM7d0JBQ04sQ0FBQzt5QkFDQSxLQUFLO3lCQUNMLEtBQUs7OEJBQ0EsQ0FBQzs2QkFHRixDQUFDO3lCQUdMLENBQUM7d0JBRUYsQ0FBQzs4QkFDSyxDQUFDO2dDQUVDLEtBQUs7dUJBQ2QsSUFBSSxlQUFlLENBQU0sSUFBSSxDQUFDO3lCQUM1QixJQUFJLE9BQU8sRUFBTztLQWVIOzBCQTdGL0IsMkNBQU87Ozs7UUFPWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUN0Qjs7Ozs7a0JBVFcsS0FBc0I7WUFDaEMsSUFBSSxLQUFLLEtBQUssTUFBTSxFQUFFO2dCQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQzthQUN2QjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQzthQUN2Qjs7Ozs7MEJBUUMsZ0RBQVk7Ozs7UUFlaEI7WUFDRSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7U0FDM0I7Ozs7O2tCQWpCZ0IsS0FBSzs7WUFFcEIsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLEtBQUssRUFBRTtnQkFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7Z0JBRTNCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDakIsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTt3QkFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQ3pCO29CQUNELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2lCQUNsQzthQUNGO1lBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Ozs7OzBCQU90Qiw0Q0FBUTs7OztRQWFaO1lBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO1NBQ3ZCOzs7OztrQkFmWSxLQUFLO1lBQ2hCLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN0QyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO29CQUN2QixJQUFJLEtBQUssRUFBRTt3QkFDVCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7cUJBQzNDO3lCQUFNO3dCQUNMLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTs0QkFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO3lCQUFFO3FCQUN4RDtpQkFDRjthQUNGO1lBQ0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7Ozs7O0lBT3pCLHNCQUFJLGlEQUFhOzs7O1FBS2pCO1lBQ0UsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1NBQzVCOzs7OztRQVBELFVBQWtCLEtBQUs7WUFDckIsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNuRCxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQzthQUM3QjtTQUNGOzs7T0FBQTs7OztJQXdDRCxtREFBa0I7OztJQUFsQjtRQUNFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztLQUNyQjs7OztJQUVELGdEQUFlOzs7SUFBZjtRQUFBLGlCQVlDO1FBWEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRWpCLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUN2QjtRQUVELElBQUksQ0FBQyxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxjQUFNLE9BQUEsS0FBSSxDQUFDLGVBQWUsRUFBRSxHQUFBLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztLQUN6Rjs7OztJQUVPLCtDQUFjOzs7O1FBQ3BCLElBQUksQ0FBQyxjQUFjLHFCQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQWdCLENBQUEsQ0FBQztRQUNuRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDakMsUUFBUSxFQUFFLFVBQVU7WUFDcEIsU0FBUyxFQUFFLG1CQUFtQjtTQUMvQixDQUFDLENBQUM7UUFHSCxJQUFJLENBQUMsZUFBZSxxQkFBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQWdCLENBQUEsQ0FBQztRQUN2RSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDbEMsUUFBUSxFQUFFLFVBQVU7WUFDcEIsS0FBSyxFQUFFLENBQUM7WUFDUixHQUFHLEVBQUUsQ0FBQztZQUNOLFNBQVMsRUFBRSxrQkFBa0I7U0FDOUIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQzs7Ozs7SUFHOUQsZ0RBQWU7Ozs7UUFDckIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzs7UUFHcEIsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1NBQ3ZCO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDOzs7OztJQUcxQyw0Q0FBVzs7O0lBQVg7UUFDRSxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3JCO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7S0FDNUI7Ozs7O0lBRUQseUNBQVE7Ozs7SUFBUixVQUFTLENBQUM7UUFDUixJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztLQUN2Qjs7OztJQUVPLDZDQUFZOzs7OztRQUNsQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO1FBQzlDLElBQUksQ0FBQyxZQUFZLHFCQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBZ0IsQ0FBQSxDQUFDO1FBQzVELElBQUksQ0FBQyxRQUFRLHFCQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQWtCLENBQUEsQ0FBQztRQUN4RSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUUxQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDN0M7UUFFRCxxQkFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM3QyxxQkFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM5QyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDckIsVUFBVSxHQUFHLEtBQUssQ0FDaEIsVUFBVSxFQUNWLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FDN0MsR0FBRyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxHQUFBLENBQUMsQ0FDekMsQ0FDRixDQUFDO1lBQ0YsU0FBUyxHQUFHLEtBQUssQ0FDZixTQUFTLEVBQ1QsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUM1QyxHQUFHLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUEsQ0FBQyxDQUN4QyxDQUNGLENBQUM7U0FDSDtRQUVELElBQUksQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FDM0IsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFDeEIsU0FBUyxDQUFDO1lBQ1IsT0FBQSxLQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FDdkIsR0FBRyxDQUFDO2dCQUNGLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDOztnQkFFdkIsSUFBSSxLQUFJLENBQUMsU0FBUyxLQUFLLE1BQU0sRUFBRTtvQkFDN0IsS0FBSSxDQUFDLFlBQVksSUFBSSxLQUFJLENBQUMsU0FBUyxDQUFDO2lCQUNyQztxQkFBTTtvQkFDTCxLQUFJLENBQUMsWUFBWSxJQUFJLEtBQUksQ0FBQyxTQUFTLENBQUM7aUJBQ3JDO2FBQ0YsQ0FBQyxFQUNGLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEdBQUEsQ0FBQyxDQUFDLENBQzFELENBQ0Y7U0FBQSxDQUNGLENBQUMsQ0FBQztRQUVMLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDM0M7Ozs7O0lBR0ssOENBQWE7Ozs7UUFDbkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixFQUFFLENBQUMsSUFBSSxDQUFDO1FBQ2hFLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLENBQUMsRUFBRTtZQUN0QyxRQUFRLElBQUksQ0FBQyxLQUFLO2dCQUNoQixLQUFLLFFBQVE7b0JBQ1gsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDO29CQUNwRSxNQUFNO2dCQUNSLEtBQUssTUFBTTtvQkFDVCxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztvQkFDdkIsTUFBTTtnQkFDUixLQUFLLE9BQU87b0JBQ1YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO29CQUM5RCxNQUFNO2FBQ1Q7U0FDRjs7Ozs7OztJQUlLLDZDQUFZOzs7O2NBQUMsTUFBZ0I7O1FBQ25DLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNuQztRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQUM7O1FBRW5ELHFCQUFNLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxNQUFNLEVBQUU7O1lBRVYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO1NBQzlFO1FBQ0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDO1FBRXhFLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsZ0NBQWdDLENBQUMsQ0FBQztRQUNoRixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBSyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxPQUFJLENBQUMsQ0FBQztRQUNqRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQWdCLEVBQUUsS0FBSztZQUM1QyxLQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFLLEtBQUksQ0FBQyxRQUFRLE9BQUksQ0FBQyxDQUFDO1NBQzdELENBQUMsQ0FBQztRQUVILElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE9BQU8sRUFBSyxJQUFJLENBQUMsUUFBUSxPQUFJLENBQUMsQ0FBQztZQUM1RSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLE9BQU8sRUFBSyxJQUFJLENBQUMsUUFBUSxPQUFJLENBQUMsQ0FBQztTQUM5RTs7Ozs7SUFHSywyQ0FBVTs7Ozs7UUFDaEIscUJBQU0sRUFBRSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN6QyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDO1FBRTlELEVBQUUsQ0FBQyxFQUFFLENBQUMsNkJBQTZCLEVBQUUsVUFBQyxDQUFjO1lBQ2xELEtBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDNUQsS0FBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN2RCxJQUFJLEtBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDdkI7O1lBRUQsUUFBUSxDQUFDLENBQUMsSUFBSTtnQkFDWixLQUFLLEtBQUs7b0JBQ1IsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMzQixLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ25CLEtBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUM7b0JBQzFELE1BQU07Z0JBQ1IsS0FBSyxTQUFTLENBQUM7Z0JBQ2YsS0FBSyxVQUFVOztvQkFHYixJQUFJLEtBQUksQ0FBQyxPQUFPLElBQUksS0FBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7d0JBQ3hDLEtBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUN2QixPQUFPO3FCQUNSOzs7b0JBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7b0JBQ3hCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxFQUFFO3dCQUFFLE9BQU87cUJBQUU7O29CQUV4QyxJQUFJLEVBQUUsS0FBSSxDQUFDLFFBQVEsSUFBSSxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2hFLENBQUMsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDO3FCQUNqQjtvQkFFRCxLQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsWUFBWSxFQUFFLE1BQU0sRUFBSyxDQUFDLEtBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSSxDQUFDLFFBQVEsR0FBRyxLQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxNQUFNLE9BQUksQ0FBQyxDQUFDO29CQUU5SCxJQUFJLENBQUMsS0FBSSxDQUFDLFVBQVUsRUFBRTt3QkFDcEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsRUFBRTs0QkFDNUMsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQ0FDaEIsS0FBSSxDQUFDLFlBQVksSUFBSSxLQUFJLENBQUMsU0FBUyxDQUFDOzZCQUNyQztpQ0FBTTtnQ0FDTCxLQUFJLENBQUMsWUFBWSxJQUFJLEtBQUksQ0FBQyxTQUFTLENBQUM7NkJBQ3JDOzRCQUNELEtBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUM7NEJBQzFELEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzs0QkFDbkIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs0QkFFdkIsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7eUJBQ3hCO3FCQUNGO29CQUNELE1BQU07Z0JBQ1IsS0FBSyxRQUFRO29CQUNYLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFFbkIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztvQkFDMUQsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsRUFBRTt3QkFDcEQscUJBQU0sT0FBTyxHQUFHLEtBQUksQ0FBQyxVQUFVOzRCQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDO3dCQUVqRSxxQkFBSSxTQUFTLEdBQUcsS0FBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUM7d0JBQzVDLHFCQUFJLFNBQVMsR0FBRyxLQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQzs7d0JBSTVDLElBQUksQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7NEJBQ2hCLElBQUksRUFBRSxLQUFJLENBQUMsUUFBUSxJQUFJLEtBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFO2dDQUN0RCxTQUFTLEdBQUcsQ0FBQyxDQUFDO2dDQUNkLEtBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7NkJBQ2xCOzRCQUVELEtBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDO3lCQUMvQjs2QkFBTTs0QkFDTCxJQUFJLEVBQUUsS0FBSSxDQUFDLFFBQVEsSUFBSSxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksU0FBUyxHQUFHLEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUU7Z0NBQ3ZGLFNBQVMsR0FBRyxLQUFJLENBQUMsU0FBUyxHQUFHLEtBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dDQUMvQyxLQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDOzZCQUMxQjs0QkFDRCxLQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQzt5QkFDL0I7d0JBQ0QsTUFBTTtxQkFDUDt5QkFBTTt3QkFDTCxJQUFJLENBQUMsS0FBSSxDQUFDLFVBQVUsSUFBSSxLQUFJLENBQUMsVUFBVSxFQUFFOzRCQUN2QyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7eUJBQzVCO3FCQUNGOzs7b0JBRUQsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQ2pDLEtBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO29CQUN4QixNQUFNO2FBQ1Q7U0FDRixDQUFDLENBQUM7UUFFSCxPQUFPLEVBQUUsQ0FBQzs7Ozs7SUFHSiwwQ0FBUzs7Ozs7UUFDZixJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLE9BQU8sRUFBRTtnQkFDN0UsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2FBQ3JCLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsT0FBTyxFQUFFO2dCQUM3RSxLQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDckIsQ0FBQyxDQUFDO1NBQ0o7Ozs7O0lBR0ssNENBQVc7Ozs7UUFDakIsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pCOzs7Ozs7SUFHSywwQ0FBUzs7OztjQUFDLFNBQVM7O1FBRXpCLHFCQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV2SCxxQkFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQyxJQUFJLEdBQUcsRUFBRTtZQUNQLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlCOzs7Ozs7O0lBR0sseUNBQVE7Ozs7O2NBQUMsS0FBYSxFQUFFLE1BQWE7UUFBYix1QkFBQSxFQUFBLGFBQWE7UUFDM0MscUJBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFakMsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO2dCQUNiLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDO2FBQ2hDO2lCQUFNLElBQUksS0FBSyxHQUFHLFNBQVMsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7YUFDeEI7U0FDRjthQUFNO1lBQ0wsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUNuRTs7UUFHRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM1QixxQkFBTSxZQUFZLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDO1lBRWxFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxFQUFLLENBQUMsWUFBWSxPQUFJLENBQUMsQ0FBQztZQUN6RSxJQUFJLE1BQU0sRUFBRTtnQkFDVixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDM0M7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQzthQUM3RDs7WUFHRCxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUssSUFBSSxDQUFDLGFBQWEsT0FBSSxDQUFDLENBQUM7U0FDL0U7Ozs7Ozs7SUFJSyxnREFBZTs7Ozs7Y0FBQyxLQUFhLEVBQUUsU0FBaUI7O1FBQ3RELEtBQUssSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHO1lBQ3BDLFVBQVUsQ0FBQztnQkFDVCxLQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDOztnQkFFNUQscUJBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztnQkFDakIsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLEVBQUU7b0JBQ2YsUUFBUSxHQUFHLENBQUMsU0FBUyxHQUFHLEtBQUksQ0FBQyxRQUFRLElBQUksS0FBSSxDQUFDLGFBQWEsQ0FBQztvQkFDNUQsS0FBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUssQ0FBQyxRQUFRLE9BQUksQ0FBQyxDQUFDO2lCQUN0RTtxQkFBTSxJQUFJLEtBQUssR0FBRyxTQUFTLEVBQUU7b0JBQzVCLEtBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUMzRDthQUNGLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2xCOzs7Ozs7SUFHSywyQ0FBVTs7OztjQUFDLElBQUk7UUFDckIsUUFBUSxJQUFJO1lBQ1YsS0FBSyxTQUFTO2dCQUNaLE9BQU8sSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQ2pFLEtBQUssVUFBVTtnQkFDYixPQUFPLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxDQUFDO1NBQ2pDOzs7Ozs7SUFHSyw0Q0FBVzs7OztjQUFDLFdBQVc7O1FBQzdCLHFCQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQztRQUMxQyxxQkFBTSxhQUFhLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDOztRQUVyRCxPQUFPLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQy9CLEdBQUcsQ0FBQyxVQUFBLENBQUM7WUFDSCxLQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsSUFBSSxhQUFhLENBQUM7U0FDckQsQ0FBQyxFQUNGLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ3JELENBQUM7Ozs7O0lBR0ksMkNBQVU7Ozs7UUFDaEIscUJBQU0sT0FBTyxHQUFHLENBQUMsQ0FBQzs7UUFFbEIscUJBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3ZDLElBQUksS0FBSyxHQUFHLEdBQUcsRUFBRTtZQUNmLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLE9BQU8sQ0FBQzs7Ozs7OztJQUdULHlDQUFROzs7OztjQUFDLEdBQWdCLEVBQUUsS0FBeUM7O1FBQzFFLElBQUksS0FBSyxFQUFFO1lBQ1QsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFHO2dCQUM3QixxQkFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN6QixLQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQzFDLENBQUMsQ0FBQztTQUNKOzs7Z0JBM2dCSixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGlCQUFpQjtvQkFDM0IsUUFBUSxFQUFFLHNqQ0FzQ1g7b0JBQ0MsTUFBTSxFQUFFLENBQUMsMnlCQUEyeUIsQ0FBQztvQkFDcnpCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO2lCQUN0Qzs7Ozs2Q0ErR0ksTUFBTSxTQUFDLFdBQVc7Z0JBeEtyQixTQUFTOzs7Z0NBMkRSLFNBQVMsU0FBQyxhQUFhOzRCQUN2QixTQUFTLFNBQUMsTUFBTTs0QkFDaEIsU0FBUyxTQUFDLE1BQU07MEJBQ2hCLGVBQWUsU0FBQywwQkFBMEI7Z0NBQzFDLFlBQVksU0FBQyxjQUFjO2dDQUMzQixZQUFZLFNBQUMsY0FBYzsyQkFDM0IsWUFBWSxTQUFDLGFBQWE7Z0NBQzFCLFlBQVksU0FBQyxrQkFBa0I7NEJBRS9CLEtBQUssU0FBQyxTQUFTOzBCQUNmLEtBQUssU0FBQyxPQUFPOzZCQUNiLEtBQUssU0FBQyxVQUFVO2lDQUNoQixLQUFLLFNBQUMsZUFBZTswQkFDckIsS0FBSyxTQUFDLGdCQUFnQjswQkFDdEIsS0FBSyxTQUFDLGVBQWU7OEJBQ3JCLEtBQUssU0FBQyxvQkFBb0I7NEJBQzFCLEtBQUssU0FBQyxVQUFVOzhCQVdoQixLQUFLLFNBQUMsWUFBWTsrQkFDbEIsS0FBSyxTQUFDLFdBQVc7aUNBQ2pCLEtBQUssU0FBQyxlQUFlOzZCQW9CckIsS0FBSyxTQUFDLFVBQVU7aUNBa0JoQixNQUFNLFNBQUMsY0FBYzs7aUNBN0l4Qjs7Ozs7OztBQ0FBOzs7O2dCQVNDLFFBQVEsU0FBQztvQkFDUixPQUFPLEVBQUU7d0JBQ1AsWUFBWTt3QkFDWixXQUFXO3FCQUNaO29CQUNELFlBQVksRUFBRTt3QkFDWixzQkFBc0I7d0JBQ3RCLDBCQUEwQjt3QkFDMUIsNkJBQTZCO3FCQUM5QjtvQkFDRCxPQUFPLEVBQUU7d0JBQ1Asc0JBQXNCO3dCQUN0QiwwQkFBMEI7d0JBQzFCLDZCQUE2QjtxQkFDOUI7aUJBQ0Y7OzhCQXhCRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=